# Migration Guides

Generated: 2026-02-03T21:30:15.645Z

## Express 5 migration guide

Source: https://expressjs.com/en/guide/migrating-5.html

Status: 200

Content-Type: text/html; charset=utf-8

Migrating to Express 5 Getting started Installing Hello world Express generator Basic routing Static files More examples FAQ Guide Routing Writing middleware Using middleware Overriding the Express API Using template engines Error handling Debugging Express behind proxies Moving to Express 4 Moving to Express 5 Database integration API reference 5.x 4.x 3.x (deprecated) 2.x (deprecated) Advanced topics Building template engines Security updates Security best practices Performance best practices Health checks & shutdown Resources Community Glossary Middleware Utility modules Contributing to Express Release Change Log Support Blog Latest post All posts Write a Post English Français Deutsch Español Italiano 日本語 中文 (简体) 繁體中文 한국어 Português Moving to Express 5 Overview Express 5 is not very different from Express 4; although it maintains the same basic API, there are still changes that break compatibility with the previous version. Therefore, an application built with Express 4 might not work if you update it to use Express 5. To install this version, you need to have a Node.js version 18 or higher. Then, execute the following command in your application directory: npm install "express@5" You can then run your automated tests to see what fails, and fix problems according to the updates listed below. After addressing test failures, run your app to see what errors occur. You’ll find out right away if the app uses any methods or properties that are not supported. Express 5 Codemods To help you migrate your express server, we have created a set of codemods that will help you automatically update your code to the latest version of Express. Run the following command for run all the codemods available: npx codemod@latest @expressjs/v5-migration-recipe If you want to run a specific codemod, you can run the following command: npx codemod@latest @expressjs/name-of-the-codemod You can find the list of available codemods here . Changes in Express 5 Removed methods and properties app.del() app.param(fn) Pluralized method names Leading colon in name argument to app.param(name, fn) req.param(name) res.json(obj, status) res.jsonp(obj, status) res.redirect('back') and res.location('back') res.redirect(url, status) res.send(body, status) res.send(status) res.sendfile() router.param(fn) express.static.mime express:router debug logs Changed Path route matching syntax Rejected promises handled from middleware and handlers express.urlencoded express.static dotfiles app.listen app.router req.body req.host req.params req.query res.clearCookie res.status res.vary Improvements res.render() Brotli encoding support Removed methods and properties If you use any of these methods or properties in your app, it will crash. So, you’ll need to change your app after you update to version 5. app.del() Express 5 no longer supports the app.del() function. If you use this function, an error is thrown. For registering HTTP DELETE routes, use the app.delete() function instead. Initially, del was used instead of delete , because delete is a reserved keyword in JavaScript. However, as of ECMAScript 6, delete and other reserved keywords can legally be used as property names. Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/route-del-to-delete // v4 app . del ( ' /user/:id ' , ( req , res ) => { res . send ( `DELETE /user/ ${ req . params . id } ` ) }) // v5 app . delete ( ' /user/:id ' , ( req , res ) => { res . send ( `DELETE /user/ ${ req . params . id } ` ) }) app.param(fn) The app.param(fn) signature was used for modifying the behavior of the app.param(name, fn) function. It has been deprecated since v4.11.0, and Express 5 no longer supports it at all. Pluralized method names The following method names have been pluralized. In Express 4, using the old methods resulted in a deprecation warning. Express 5 no longer supports them at all: req.acceptsCharset() is replaced by req.acceptsCharsets() . req.acceptsEncoding() is replaced by req.acceptsEncodings() . req.acceptsLanguage() is replaced by req.acceptsLanguages() . Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/pluralize-method-names // v4 app . all ( ' / ' , ( req , res ) => { req . acceptsCharset ( ' utf-8 ' ) req . acceptsEncoding ( ' br ' ) req . acceptsLanguage ( ' en ' ) // ... }) // v5 app . all ( ' / ' , ( req , res ) => { req . acceptsCharsets ( ' utf-8 ' ) req . acceptsEncodings ( ' br ' ) req . acceptsLanguages ( ' en ' ) // ... }) Leading colon (:) in the name for app.param(name, fn) A leading colon character (:) in the name for the app.param(name, fn) function is a remnant of Express 3, and for the sake of backwards compatibility, Express 4 supported it with a deprecation notice. Express 5 will silently ignore it and use the name parameter without prefixing it with a colon. This should not affect your code if you follow the Express 4 documentation of app.param , as it makes no mention of the leading colon. req.param(name) This potentially confusing and dangerous method of retrieving form data has been removed. You will now need to specifically look for the submitted parameter name in the req.params , req.body , or req.query object. Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/explicit-request-params // v4 app . post ( ' /user ' , ( req , res ) => { const id = req . param ( ' id ' ) const body = req . param ( ' body ' ) const query = req . param ( ' query ' ) // ... }) // v5 app . post ( ' /user ' , ( req , res ) => { const id = req . params . id const body = req . body const query = req . query // ... }) res.json(obj, status) Express 5 no longer supports the signature res.json(obj, status) . Instead, set the status and then chain it to the res.json() method like this: res.status(status).json(obj) . Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/status-send-order // v4 app . post ( ' /user ' , ( req , res ) => { res . json ({ name : ' Ruben ' }, 201 ) }) // v5 app . post ( ' /user ' , ( req , res ) => { res . status ( 201 ). json ({ name : ' Ruben ' }) }) res.jsonp(obj, status) Express 5 no longer supports the signature res.jsonp(obj, status) . Instead, set the status and then chain it to the res.jsonp() method like this: res.status(status).jsonp(obj) . Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/status-send-order // v4 app . post ( ' /user ' , ( req , res ) => { res . jsonp ({ name : ' Ruben ' }, 201 ) }) // v5 app . post ( ' /user ' , ( req , res ) => { res . status ( 201 ). jsonp ({ name : ' Ruben ' }) }) res.redirect(url, status) Express 5 no longer supports the signature res.redirect(url, status) . Instead, use the following signature: res.redirect(status, url) . Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/redirect-arg-order // v4 app . get ( ' /user ' , ( req , res ) => { res . redirect ( ' /users ' , 301 ) }) // v5 app . get ( ' /user ' , ( req , res ) => { res . redirect ( 301 , ' /users ' ) }) res.redirect('back') and res.location('back') Express 5 no longer supports the magic string back in the res.redirect() and res.location() methods. Instead, use the req.get('Referrer') || '/' value to redirect back to the previous page. In Express 4, the res.redirect('back') and res.location('back') methods were deprecated. Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/back-redirect-deprecated // v4 app . get ( ' /user ' , ( req , res ) => { res . redirect ( ' back ' ) }) // v5 app . get ( ' /user ' , ( req , res ) => { res . redirect ( req . get ( ' Referrer ' ) || ' / ' ) }) res.send(body, status) Express 5 no longer supports the signature res.send(obj, status) . Instead, set the status and then chain it to the res.send() method like this: res.status(status).send(obj) . Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/status-send-order // v4 app . get ( ' /user ' , ( req , res ) => { res . send ({ name : ' Ruben ' }, 200 ) }) // v5 app . get ( ' /user ' , ( req , res ) => { res . status ( 200 ). send ({ name : ' Ruben ' }) }) res.send(status) Express 5 no longer supports the signature res.send(status) , where status is a number. Instead, use the res.sendStatus(statusCode) function, which sets the HTTP response header status code and sends the text version of the code: “Not Found”, “Internal Server Error”, and so on. If you need to send a number by using the res.send() function, quote the number to convert it to a string, so that Express does not interpret it as an attempt to use the unsupported old signature. Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/status-send-order // v4 app . get ( ' /user ' , ( req , res ) => { res . send ( 200 ) }) // v5 app . get ( ' /user ' , ( req , res ) => { res . sendStatus ( 200 ) }) res.sendfile() The res.sendfile() function has been replaced by a camel-cased version res.sendFile() in Express 5. Note: In Express 5, res.sendFile() uses the mime-types package for MIME type detection, which returns different Content-Type values than Express 4 for several common file types: JavaScript files (.js): now “text/javascript” instead of “application/javascript” JSON files (.json): now “application/json” instead of “text/json” CSS files (.css): now “text/css” instead of “text/plain” XML files (.xml): now “application/xml” instead of “text/xml” Font files (.woff): now “font/woff” instead of “application/font-woff” SVG files (.svg): now “image/svg+xml” instead of “application/svg+xml” Note You can replace the deprecated signatures with the following command: npx codemod@latest @expressjs/camelcase-sendfile // v4 app . get ( ' /user ' , ( req , res ) => { res . sendfile ( ' /path/to/file ' ) }) // v5 app . get ( ' /user ' , ( req , res ) => { res . sendFile ( ' /path/to/file ' ) }) router.param(fn) The router.param(fn) signature was used for modifying the behavior of the router.param(name, fn) function. It has been deprecated since v4.11.0, and Express 5 no longer supports it at all. express.static.mime In Express 5, mime is no longer an exported property of the static field. Use the mime-types package to work with MIME type values. Important: This change affects not only direct usage of express.static.mime but also other Express methods that rely on MIME type detection, such as res.sendFile() . The following MIME types have changed from Express 4: JavaScript files (.js): now served as “text/javascript” instead of “application/javascript” JSON files (.json): now served as “application/json” instead of “text/json” CSS files (.css): now served as “text/css” instead of “text/plain” HTML files (.html): now served as “text/html; charset=utf-8” instead of just “text/html” XML files (.xml): now served as “application/xml” instead of “text/xml” Font files (.woff): now served as “font/woff” instead of “application/font-woff” // v4 express . static . mime . lookup ( ' json ' ) // v5 const mime = require ( ' mime-types ' ) mime . lookup ( ' json ' ) express:router debug logs In Express 5, router handling logic is performed by a dependency. Therefore, the debug logs for the router are no longer available under the express: namespace. In v4, the logs were available under the namespaces express:router , express:router:layer , and express:router:route . All of these were included under the namespace express:* . In v5.1+, the logs are available under the namespaces router , router:layer , and router:route . The logs from router:layer and router:route are included in the namespace router:* . To achieve the same detail of debug logging when using express:* in v4, use a conjunction of express:* , router , and router:* . # v4 DEBUG = express: * node index.js # v5 DEBUG = express: * ,router,router: * node index.js Changed Path route matching syntax Path route matching syntax is when a string is supplied as the first parameter to the app.all() , app.use() , app.METHOD() , router.all() , router.METHOD() , and router.use() APIs. The following changes have been made to how the path string is matched to an incoming request: The wildcard * must have a name, matching the behavior of parameters : , use /*splat instead of /* // v4 app . get ( ' /* ' , async ( req , res ) => { res . send ( ' ok ' ) }) // v5 app . get ( ' /*splat ' , async ( req , res ) => { res . send ( ' ok ' ) }) Note *splat matches any path without the root path. If you need to match the root path as well / , you can use /{*splat} , wrapping the wildcard in braces. // v5 app . get ( ' /{*splat} ' , async ( req , res ) => { res . send ( ' ok ' ) }) The optional character ? is no longer supported, use braces instead. // v4 app . get ( ' /:file.:ext? ' , async ( req , res ) => { res . send ( ' ok ' ) }) // v5 app . get ( ' /:file{.:ext} ' , async ( req , res ) => { res . send ( ' ok ' ) }) Regexp characters are not supported. For example: app . get ( ' /[discussion|page]/:slug ' , async ( req , res ) => { res . status ( 200 ). send ( ' ok ' ) }) should be changed to: app . get ([ ' /discussion/:slug ' , ' /page/:slug ' ], async ( req , res ) => { res . status ( 200 ). send ( ' ok ' ) }) Some characters have been reserved to avoid confusion during upgrade ( ()[]?+! ), use \ to escape them. Parameter names now support valid JavaScript identifiers, or quoted like :"this" . Rejected promises handled from middleware and handlers Request middleware and handlers that return rejected promises are now handled by forwarding the rejected value as an Error to the error handling middleware. This means that using async functions as middleware and handlers are easier than ever. When an error is thrown in an async function or a rejected promise is await ed inside an async function, those errors will be passed to the error handler as if calling next(err) . Details of how Express handles errors is covered in the error handling documentation . express.urlencoded The express.urlencoded method makes the extended option false by default. express.static dotfiles In Express 5, the express.static middleware’s dotfiles option now defaults to "ignore" . This is a change from Express 4, where dotfiles were served by default. As a result, files inside a directory that starts with a dot ( . ), such as .well-known , will no longer be accessible and will return a 404 Not Found error. This can break functionality that depends on serving dot-directories, such as Android App Links, and Apple Universal Links. Example of breaking code: // v4 app . use ( express . static ( ' public ' )) After migrating to Express 5, a request to /.well-known/assetlinks.json will result in a 404 Not Found . To fix this, serve specific dot-directories explicitly using the dotfiles: "allow" option: // v5 app . use ( ' /.well-known ' , express . static ( ' public/.well-known ' , { dotfiles : ' allow ' })) app . use ( express . static ( ' public ' )) This approach allows you to safely serve only the intended dot-directories while keeping the default secure behavior for other dotfiles, which remain inaccessible. app.listen In Express 5, the app.listen method will invoke the user-provided callback function (if provided) when the server receives an error event. In Express 4, such errors would be thrown. This change shifts error-handling responsibility to the callback function in Express 5. If there is an error, it will be passed to the callback as an argument. For example: const server = app . listen ( 8080 , ' 0.0.0.0 ' , ( error ) => { if ( error ) { throw error // e.g. EADDRINUSE } console . log ( `Listening on ${ JSON . stringify ( server . address ())} ` ) }) app.router The app.router object, which was removed in Express 4, has made a comeback in Express 5. In the new version, this object is a just a reference to the base Express router, unlike in Express 3, where an app had to explicitly load it. req.body The req.body property returns undefined when the body has not been parsed. In Express 4, it returns {} by default. req.host In Express 4, the req.host function incorrectly stripped off the port number if it was present. In Express 5, the port number is maintained. req.params The req.params object now has a null prototype when using string paths. However, if the path is defined with a regular expression, req.params remains a standard object with a normal prototype. Additionally, there are two important behavioral changes: Wildcard parameters are now arrays: Wildcards (e.g., /*splat ) capture path segments as an array instead of a single string. app . get ( ' /*splat ' , ( req , res ) => { // GET /foo/bar console . dir ( req . params ) // => [Object: null prototype] { splat: [ 'foo', 'bar' ] } }) Unmatched parameters are omitted: In Express 4, unmatched wildcards were empty strings ( '' ) and optional : parameters (using ? ) had a key with value undefined . In Express 5, unmatched parameters are completely omitted from req.params . // v4: unmatched wildcard is empty string app . get ( ' /* ' , ( req , res ) => { // GET / console . dir ( req . params ) // => { '0': '' } }) // v4: unmatched optional param is undefined app . get ( ' /:file.:ext? ' , ( req , res ) => { // GET /image console . dir ( req . params ) // => { file: 'image', ext: undefined } }) // v5: unmatched optional param is omitted app . get ( ' /:file{.:ext} ' , ( req , res ) => { // GET /image console . dir ( req . params ) // => [Object: null prototype] { file: 'image' } }) req.query The req.query property is no longer a writable property and is instead a getter. The default query parser has been changed from “extended” to “simple”. res.clearCookie The res.clearCookie method ignores the maxAge and expires options provided by the user. res.status The res.status method only accepts integers in the range of 100 to 999 , following the behavior defined by Node.js, and it returns an error when the status code is not an integer. res.vary The res.vary throws an error when the field argument is missing. In Express 4, if the argument was omitted, it gave a warning in the console Improvements res.render() This method now enforces asynchronous behavior for all view engines, avoiding bugs caused by view engines that had a synchronous implementation and that violated the recommended interface. Brotli encoding support Express 5 supports Brotli encoding for requests received from clients that support it. Previous: Migrating to Express 4 Next: Express database integration Edit this page Terms of Use Privacy Policy Code of Conduct Trademark Policy Security Policy

---

## Vite v6 migration guide

Source: https://v6.vite.dev/guide/migration

Status: 200

Content-Type: text/html; charset=UTF-8

Migration from v5 | Vite This documentation covers Vite 6 (old version) . For the latest version, see https://vite.dev . Skip to content Vite Search K Main Navigation Guide Config Plugins Resources Team Blog Releases Bluesky Mastodon X Discord Chat Awesome Vite ViteConf DEV Community Changelog Contributing Version Vite 5 Docs Vite 4 Docs Vite 3 Docs Vite 2 Docs English 简体中文 日本語 Español Português 한국어 Deutsch English 简体中文 日本語 Español Português 한국어 Deutsch Appearance Menu Return to top Sidebar Navigation Introduction Getting Started Philosophy Why Vite Guide Features CLI Using Plugins Dependency Pre-Bundling Static Asset Handling Building for Production Deploying a Static Site Env Variables and Modes Server-Side Rendering (SSR) Backend Integration Troubleshooting Performance Rolldown Migration from v5 Breaking Changes APIs Plugin API HMR API JavaScript API Config Reference Environment API Introduction Environment Instances Plugins Frameworks Runtimes On this page Building Together ViteConf 2025 First time in-person! Migration from v5 ​ Environment API ​ As part of the new experimental Environment API , a big internal refactoring was needed. Vite 6 strives to avoid breaking changes to ensure most projects can quickly upgrade to the new major. We&#39;ll wait until a big portion of the ecosystem has moved to stabilize and start recommending the use of the new APIs. There may be some edge cases but these should only affect low level usage by frameworks and tools. We have worked with maintainers in the ecosystem to mitigate these differences before the release. Please open an issue if you spot a regression. Some internal APIs have been removed due to changes in Vite&#39;s implementation. If you were relying on one of them, please create a feature request . Vite Runtime API ​ The experimental Vite Runtime API evolved into the Module Runner API, released in Vite 6 as part of the new experimental Environment API . Given that the feature was experimental the removal of the previous API introduced in Vite 5.1 isn&#39;t a breaking change, but users will need to update their use to the Module Runner equivalent as part of migrating to Vite 6. General Changes ​ Default value for resolve.conditions ​ This change does not affect users that did not configure resolve.conditions / ssr.resolve.conditions / ssr.resolve.externalConditions . In Vite 5, the default value for resolve.conditions was [] and some conditions were added internally. The default value for ssr.resolve.conditions was the value of resolve.conditions . From Vite 6, some of the conditions are no longer added internally and need to be included in the config values. The conditions that are no longer added internally for resolve.conditions are [&#39;module&#39;, &#39;browser&#39;, &#39;development|production&#39;] ssr.resolve.conditions are [&#39;module&#39;, &#39;node&#39;, &#39;development|production&#39;] The default values for those options are updated to the corresponding values and ssr.resolve.conditions no longer uses resolve.conditions as the default value. Note that development|production is a special variable that is replaced with production or development depending on the value of process.env.NODE_ENV . These default values are exported from vite as defaultClientConditions and defaultServerConditions . If you specified a custom value for resolve.conditions or ssr.resolve.conditions , you need to update it to include the new conditions. For example, if you previously specified [&#39;custom&#39;] for resolve.conditions , you need to specify [&#39;custom&#39;, ...defaultClientConditions] instead. JSON stringify ​ In Vite 5, when json.stringify: true is set, json.namedExports was disabled. From Vite 6, even when json.stringify: true is set, json.namedExports is not disabled and the value is respected. If you wish to achieve the previous behavior, you can set json.namedExports: false . Vite 6 also introduces a new default value for json.stringify which is &#39;auto&#39; , which will only stringify large JSON files. To disable this behavior, set json.stringify: false . Extended support of asset references in HTML elements ​ In Vite 5, only a few supported HTML elements were able to reference assets that will be processed and bundled by Vite, such as <link href> , <img src> , etc. Vite 6 extends the support to even more HTML elements. The full list can be found at the HTML features docs. To opt-out of HTML processing on certain elements, you can add the vite-ignore attribute on the element. postcss-load-config ​ postcss-load-config has been updated to v6 from v4. tsx or jiti is now required to load TypeScript postcss config files instead of ts-node . Also yaml is now required to load YAML postcss config files. Sass now uses modern API by default ​ In Vite 5, the legacy API was used by default for Sass. Vite 5.4 added support for the modern API. From Vite 6, the modern API is used by default for Sass. If you wish to still use the legacy API, you can set css.preprocessorOptions.sass.api: &#39;legacy&#39; / css.preprocessorOptions.scss.api: &#39;legacy&#39; . But note that the legacy API support will be removed in Vite 7. To migrate to the modern API, see the Sass documentation . Customize CSS output file name in library mode ​ In Vite 5, the CSS output file name in library mode was always style.css and cannot be easily changed through the Vite config. From Vite 6, the default file name now uses &quot;name&quot; in package.json similar to the JS output files. If build.lib.fileName is set with a string, the value will also be used for the CSS output file name. To explicitly set a different CSS file name, you can use the new build.lib.cssFileName to configure it. To migrate, if you had relied on the style.css file name, you should update references to it to the new name based on your package name. For example: package.json json { &quot;name&quot; : &quot;my-lib&quot; , &quot;exports&quot; : { &quot;./style.css&quot; : &quot;./dist/style.css&quot; &quot;./style.css&quot; : &quot;./dist/my-lib.css&quot; } } If you prefer to stick with style.css like in Vite 5, you can set build.lib.cssFileName: &#39;style&#39; instead. Advanced ​ There are other breaking changes which only affect few users. [#17922] fix(css)!: remove default import in ssr dev Support for default import of CSS files was deprecated in Vite 4 and removed in Vite 5, but it was still unintentionally supported in SSR dev mode. This support is now removed. [#15637] fix!: default build.cssMinify to &#39;esbuild&#39; for SSR build.cssMinify is now enabled by default even for SSR builds. [#18070] feat!: proxy bypass with WebSocket server.proxy[path].bypass is now called for WebSocket upgrade requests and in that case, the res parameter will be undefined . [#18209] refactor!: bump minimal terser version to 5.16.0 Minimal supported terser version for build.minify: &#39;terser&#39; was bumped to 5.16.0 from 5.4.0. [#18231] chore(deps): update dependency @rollup/plugin-commonjs to v28 commonjsOptions.strictRequires is now true by default (was &#39;auto&#39; before). This may lead to larger bundle sizes but will result in more deterministic builds. If you are specifying a CommonJS file as an entry point, you may need additional steps. Read the commonjs plugin documentation for more details. [#18243] chore(deps)!: migrate fast-glob to tinyglobby Range braces ( {01..03} ⇒ [&#39;01&#39;, &#39;02&#39;, &#39;03&#39;] ) and incremental braces ( {2..8..2} ⇒ [&#39;2&#39;, &#39;4&#39;, &#39;6&#39;, &#39;8&#39;] ) are no longer supported in globs. [#18395] feat(resolve)!: allow removing conditions This PR not only introduces a breaking change mentioned above as &quot;Default value for resolve.conditions &quot;, but also makes resolve.mainFields to not be used for no-externalized dependencies in SSR. If you were using resolve.mainFields and want to apply that to no-externalized dependencies in SSR, you can use ssr.resolve.mainFields . [#18493] refactor!: remove fs.cachedChecks option This opt-in optimization was removed due to edge cases when writing a file in a cached folder and immediately importing it. [#18697] fix(deps)!: update dependency dotenv-expand to v12 Variables used in interpolation should be declared before the interpolation now. For more details, see the dotenv-expand changelog . This breaking change was reverted in v6.1.0. [#16471] feat: v6 - Environment API Updates to an SSR-only module no longer triggers a full page reload in the client. To return to the previous behaviour, a custom Vite plugin can be used: Click to expand example ts import type { Plugin , EnvironmentModuleNode } from &#39;vite&#39; function hmrReload () : Plugin { return { name : &#39;hmr-reload&#39; , enforce : &#39;post&#39; , hotUpdate : { order : &#39;post&#39; , handler ({ modules , server , timestamp }) { if ( this . environment . name !== &#39;ssr&#39; ) return let hasSsrOnlyModules = false const invalidatedModules = new Set < EnvironmentModuleNode >() for ( const mod of modules ) { if ( mod . id == null ) continue const clientModule = server . environments . client . moduleGraph . getModuleById ( mod . id ) if ( clientModule != null ) continue this . environment . moduleGraph . invalidateModule ( mod , invalidatedModules , timestamp , true , ) hasSsrOnlyModules = true } if ( hasSsrOnlyModules ) { server . ws . send ({ type : &#39;full-reload&#39; }) return [] } }, }, } } Migration from v4 ​ Check the Migration from v4 Guide in the Vite v5 docs first to see the needed changes to port your app to Vite 5, and then proceed with the changes on this page. Suggest changes to this page Pager Previous page Rolldown Next page Breaking Changes Released under the MIT License. (0e173d83) Copyright © 2019-present VoidZero Inc. & Vite Contributors

---

## Vite v7 migration guide

Source: https://vite.dev/guide/migration

Status: 200

Content-Type: text/html; charset=UTF-8

Migration from v6 | Vite Announcing Vite+ | The Unified Toolchain for the Web Skip to content Main Navigation Guide Config Plugins Resources Team Blog Releases The Documentary Bluesky Mastodon X Discord Chat Awesome Vite ViteConf DEV Community v7.3.1 Changelog Contributing Unreleased Docs Vite 6 Docs Vite 5 Docs Vite 4 Docs Vite 3 Docs Vite 2 Docs Search English 简体中文 日本語 Español Português 한국어 Deutsch فارسی Appearance English 简体中文 日本語 Español Português 한국어 Deutsch فارسی Menu Return to top Sidebar Navigation Introduction Getting Started Philosophy Why Vite Guide Features CLI Using Plugins Dependency Pre-Bundling Static Asset Handling Building for Production Deploying a Static Site Env Variables and Modes Server-Side Rendering (SSR) Backend Integration Troubleshooting Performance Rolldown Migration from v6 Breaking Changes APIs Plugin API HMR API JavaScript API Config Reference Environment API Introduction Environment Instances Plugins Frameworks Runtimes On this page Building Together ViteConf 2025 View the replays Are you an LLM? You can read better optimized documentation at /guide/migration.md for this page in Markdown format Migration from v6 ​ Node.js Support ​ Vite no longer supports Node.js 18, which reached its EOL. Node.js 20.19+ / 22.12+ is now required. Default Browser Target change ​ The default browser value of build.target is updated to a newer browser. Chrome 87 → 107 Edge 88 → 107 Firefox 78 → 104 Safari 14.0 → 16.0 These browser versions align with Baseline Widely Available feature sets as of 2025-05-01. In other words, they were all released before 2022-11-01. In Vite 5, the default target was named &#39;modules&#39; , but this is no longer available. Instead, a new default target &#39;baseline-widely-available&#39; is introduced. General Changes ​ Removed Sass legacy API support ​ As planned, support for the Sass legacy API is removed. Vite now only supports the modern API. You can remove the css.preprocessorOptions.sass.api / css.preprocessorOptions.scss.api option. Removed deprecated features ​ splitVendorChunkPlugin (deprecated in v5.2.7) This plugin was originally provided to ease migration to Vite v2.9. The build.rollupOptions.output.manualChunks option can be used to control the chunking behavior if needed. Hook-level enforce / transform for transformIndexHtml (deprecated in v4.0.0) It was changed to align the interface with Rollup&#39;s object hooks . order should be used instead of enforce , and handler should be used instead of transform . Advanced ​ There are other breaking changes which only affect few users. [#19979] chore: declare version range for peer dependencies Specified the peer dependencies version range for CSS preprocessors. [#20013] refactor: remove no-op legacy.proxySsrExternalModules legacy.proxySsrExternalModules property had no effect since Vite 6. It is now removed. [#19985] refactor!: remove deprecated no-op type only properties The following unused properties are now removed: ModuleRunnerOptions.root , ViteDevServer._importGlobMap , ResolvePluginOptions.isFromTsImporter , ResolvePluginOptions.getDepsOptimizer , ResolvePluginOptions.shouldExternalize , ResolvePluginOptions.ssrConfig [#19986] refactor: remove deprecated env api properties These properties were deprecated from the beginning. It is now removed. [#19987] refactor!: remove deprecated HotBroadcaster related types These types were introduced as part of the now-deprecated Runtime API. It is now removed: HMRBroadcaster , HMRBroadcasterClient , ServerHMRChannel , HMRChannel [#19996] fix(ssr)!: don&#39;t access Object variable in ssr transformed code __vite_ssr_exportName__ is now required for the module runner runtime context. [#20045] fix: treat all optimizeDeps.entries values as globs optimizeDeps.entries now does not receive literal string paths. Instead, it always receives globs. [#20222] feat: apply some middlewares before configureServer hook , [#20224] feat: apply some middlewares before configurePreviewServer hook Some middlewares are now applied before the configureServer / configurePreviewServer hook. Note that if you don&#39;t expect a certain route to apply the server.cors / preview.cors option, make sure to remove the related headers from the response. Migration from v5 ​ Check the Migration from v5 Guide in the Vite v6 docs first to see the needed changes to port your app to Vite 6, and then proceed with the changes on this page. Suggest changes to this page Pager Previous page Rolldown Next page Breaking Changes © 2025 VoidZero Inc. and Vite contributors. (e61f0d33)

---

## Tailwind CSS upgrade guide

Source: https://tailwindcss.com/docs/upgrade-guide

Status: 200

Content-Type: text/html; charset=utf-8

Upgrade guide - Getting started - Tailwind CSS v4.1 ⌘K Ctrl K Docs Blog Showcase Sponsor Plus Getting started Upgrade guide Documentation Components Templates UI Kit Playground Course New Community Getting started Installation Editor setup Compatibility Upgrade guide Core concepts Styling with utility classes Hover, focus, and other states Responsive design Dark mode Theme variables Colors Adding custom styles Detecting classes in source files Functions and directives Base styles Preflight Layout aspect-ratio columns break-after break-before break-inside box-decoration-break box-sizing display float clear isolation object-fit object-position overflow overscroll-behavior position top / right / bottom / left visibility z-index Flexbox & Grid flex-basis flex-direction flex-wrap flex flex-grow flex-shrink order grid-template-columns grid-column grid-template-rows grid-row grid-auto-flow grid-auto-columns grid-auto-rows gap justify-content justify-items justify-self align-content align-items align-self place-content place-items place-self Spacing padding margin Sizing width min-width max-width height min-height max-height Typography font-family font-size font-smoothing font-style font-weight font-stretch font-variant-numeric letter-spacing line-clamp line-height list-style-image list-style-position list-style-type text-align color text-decoration-line text-decoration-color text-decoration-style text-decoration-thickness text-underline-offset text-transform text-overflow text-wrap text-indent vertical-align white-space word-break overflow-wrap hyphens content Backgrounds background-attachment background-clip background-color background-image background-origin background-position background-repeat background-size Borders border-radius border-width border-color border-style outline-width outline-color outline-style outline-offset Effects box-shadow text-shadow opacity mix-blend-mode background-blend-mode mask-clip mask-composite mask-image mask-mode mask-origin mask-position mask-repeat mask-size mask-type Filters filter blur brightness contrast drop-shadow grayscale hue-rotate invert saturate sepia backdrop-filter blur brightness contrast grayscale hue-rotate invert opacity saturate sepia Tables border-collapse border-spacing table-layout caption-side Transitions & Animation transition-property transition-behavior transition-duration transition-timing-function transition-delay animation Transforms backface-visibility perspective perspective-origin rotate scale skew transform transform-origin transform-style translate Interactivity accent-color appearance caret-color color-scheme cursor field-sizing pointer-events resize scroll-behavior scroll-margin scroll-padding scroll-snap-align scroll-snap-stop scroll-snap-type touch-action user-select will-change SVG fill stroke stroke-width Accessibility forced-color-adjust Getting started Upgrade guide Upgrading your Tailwind CSS projects from v3 to v4. Tailwind CSS v4.0 is a new major version of the framework, so while we&#x27;ve worked really hard to minimize breaking changes, some updates are necessary. This guide outlines all the steps required to upgrade your projects from v3 to v4. Tailwind CSS v4.0 is designed for Safari 16.4+, Chrome 111+, and Firefox 128+. If you need to support older browsers, stick with v3.4 until your browser support requirements change. Using the upgrade tool If you&#x27;d like to upgrade a project from v3 to v4, you can use our upgrade tool to do the vast majority of the heavy lifting for you: Terminal $ npx @tailwindcss/upgrade For most projects, the upgrade tool will automate the entire migration process including updating your dependencies, migrating your configuration file to CSS, and handling any changes to your template files. The upgrade tool requires Node.js 20 or higher, so ensure your environment is updated before running it. We recommend running the upgrade tool in a new branch , then carefully reviewing the diff and testing your project in the browser to make sure all of the changes look correct. You may need to tweak a few things by hand in complex projects, but the tool will save you a ton of time either way. It&#x27;s also a good idea to go over all of the breaking changes in v4 and get a good understanding of what&#x27;s changed, in case there are other things you need to update in your project that the upgrade tool doesn&#x27;t catch. Upgrading manually Using PostCSS In v3, the tailwindcss package was a PostCSS plugin, but in v4 the PostCSS plugin lives in a dedicated @tailwindcss/postcss package. Additionally, in v4 imports and vendor prefixing is now handled for you automatically, so you can remove postcss-import and autoprefixer if they are in your project: postcss.config.mjs export default { plugins : { "postcss-import" : {}, tailwindcss : {}, autoprefixer : {}, "@tailwindcss/postcss" : {}, }, }; Using Vite If you&#x27;re using Vite, we recommend migrating from the PostCSS plugin to our new dedicated Vite plugin for improved performance and the best developer experience: vite.config.ts import { defineConfig } from "vite" ; import tailwindcss from "@tailwindcss/vite" ; export default defineConfig ( { plugins : [ tailwindcss () , ] , } ) ; Using Tailwind CLI In v4, Tailwind CLI lives in a dedicated @tailwindcss/cli package. Update any of your build commands to use the new package instead: Terminal npx tailwindcss -i input.css -o output.css npx @tailwindcss/cli -i input.css -o output.css Changes from v3 Here&#x27;s a comprehensive list of all the breaking changes in Tailwind CSS v4.0. Our upgrade tool will handle most of these changes for you automatically, so we highly recommend using it if you can. Browser requirements Tailwind CSS v4.0 is designed for modern browsers and targets Safari 16.4, Chrome 111, and Firefox 128. We depend on modern CSS features like @property and color-mix() for core framework features, and Tailwind CSS v4.0 will not work in older browsers. If you need to support older browsers, we recommend sticking with v3.4 for now. We&#x27;re actively exploring a compatibility mode to help people upgrade sooner that we hope to share more news on in the future. Removed @tailwind directives In v4 you import Tailwind using a regular CSS @import statement, not using the @tailwind directives you used in v3: CSS @tailwind base ; @tailwind components ; @tailwind utilities ; @import "tailwindcss" ; Removed deprecated utilities We&#x27;ve removed any utilities that were deprecated in v3 and have been undocumented for several years. Here&#x27;s a list of what&#x27;s been removed along with the modern alternative: Deprecated Replacement bg-opacity-* Use opacity modifiers like bg-black/50 text-opacity-* Use opacity modifiers like text-black/50 border-opacity-* Use opacity modifiers like border-black/50 divide-opacity-* Use opacity modifiers like divide-black/50 ring-opacity-* Use opacity modifiers like ring-black/50 placeholder-opacity-* Use opacity modifiers like placeholder-black/50 flex-shrink-* shrink-* flex-grow-* grow-* overflow-ellipsis text-ellipsis decoration-slice box-decoration-slice decoration-clone box-decoration-clone Renamed utilities We&#x27;ve renamed the following utilities in v4 to make them more consistent and predictable: v3 v4 shadow-sm shadow-xs shadow shadow-sm drop-shadow-sm drop-shadow-xs drop-shadow drop-shadow-sm blur-sm blur-xs blur blur-sm backdrop-blur-sm backdrop-blur-xs backdrop-blur backdrop-blur-sm rounded-sm rounded-xs rounded rounded-sm outline-none outline-hidden ring ring-3 Updated shadow, radius, and blur scales We&#x27;ve renamed the default shadow, radius and blur scales to make sure every utility has a named value. The &quot;bare&quot; versions still work for backward compatibility, but the <utility> -sm utilities will look different unless updated to their respective <utility> -xs versions. To update your project for these changes, replace all the v3 utilities with their v4 versions: HTML &#x3C; input class = "shadow-sm" /> &#x3C; input class = "shadow-xs" /> &#x3C; input class = "shadow" /> &#x3C; input class = "shadow-sm" /> Renamed outline utility The outline utility now sets outline-width: 1px by default to be more consistent with border and ring utilities. Furthermore all outline- <number> utilities default outline-style to solid , omitting the need to combine them with outline : HTML &#x3C; input class = "outline outline-2" /> &#x3C; input class = "outline-2" /> The outline-none utility previously didn&#x27;t actually set outline-style: none , and instead set an invisible outline that would still show up in forced colors mode for accessibility reasons. To make this more clear we&#x27;ve renamed this utility to outline-hidden and added a new outline-none utility that actually sets outline-style: none . To update your project for this change, replace any usage of outline-none with outline-hidden : HTML &#x3C; input class = "focus:outline-none" /> &#x3C; input class = "focus:outline-hidden" /> Default ring width change In v3, the ring utility added a 3px ring. We&#x27;ve changed this in v4 to be 1px to make it consistent with borders and outlines. To update your project for this change, replace any usage of ring with ring-3 : HTML &#x3C; input class = "ring ring-blue-500" /> &#x3C; input class = "ring-3 ring-blue-500" /> Space-between selector We&#x27;ve changed the selector used by the space-x-* and space-y-* utilities to address serious performance issues on large pages: CSS /* Before */ .space-y-4 > :not ( [ hidden ] ) ~ :not ( [ hidden ] ) { margin-top : 1 rem ; } /* Now */ .space-y-4 > :not ( :last-child ) { margin-bottom : 1 rem ; } You might see changes in your project if you were ever using these utilities with inline elements, or if you were adding other margins to child elements to tweak their spacing. If this change causes any issues in your project, we recommend migrating to a flex or grid layout and using gap instead: HTML &#x3C; div class = "space-y-4 p-4" > &#x3C; div class = "flex flex-col gap-4 p-4" > &#x3C; label for = "name" > Name &#x3C;/ label > &#x3C; input type = "text" name = "name" /> &#x3C;/ div > Divide selector We&#x27;ve changed the selector used by the divide-x-* and divide-y-* utilities to address serious performance issues on large pages: CSS /* Before */ .divide-y-4 > :not ( [ hidden ] ) ~ :not ( [ hidden ] ) { border-top-width : 4 px ; } /* Now */ .divide-y-4 > :not ( :last-child ) { border-bottom-width : 4 px ; } You might see changes in your project if you were ever using these utilities with inline elements, if you were adding other margins/padding to child elements to tweak their spacing, or adjusting the borders of specific child elements. Using variants with gradients In v3, overriding part of a gradient with a variant would &quot;reset&quot; the entire gradient, so in this example the to-* color would be transparent in dark mode instead of yellow: HTML &#x3C; div class = "bg-gradient-to-r from-red-500 to-yellow-400 dark:from-blue-500 " > &#x3C;!-- ... --> &#x3C;/ div > In v4, these values are preserved which is more consistent with how other utilities in Tailwind work. This means you may need to explicitly use via-none if you want to &quot;unset&quot; a three-stop gradient back to a two-stop gradient in a specific state: HTML &#x3C; div class = "bg-linear-to-r from-red-500 via-orange-400 to-yellow-400 dark:via-none dark:from-blue-500 dark:to-teal-400" > &#x3C;!-- ... --> &#x3C;/ div > Container configuration In v3, the container utility had several configuration options like center and padding that no longer exist in v4. To customize the container utility in v4, extend it using the @utility directive: CSS @utility container { margin-inline: auto; padding-inline: 2rem; } Default border color In v3, the border-* and divide-* utilities used your configured gray-200 color by default. We&#x27;ve changed this to currentColor in v4 to make Tailwind less opinionated and match browser defaults. To update your project for this change, make sure you specify a color anywhere you&#x27;re using a border-* or divide-* utility: &#x3C; div class = "border border-gray-200 px-2 py-3 ..." > &#x3C;!-- ... --> &#x3C;/ div > Alternatively, add these base styles to your project to preserve the v3 behavior: CSS @layer base { * , :: after , :: before , :: backdrop , :: file-selector-button { border-color : var ( --color-gray-200 , currentColor ); } } Default ring width and color We&#x27;ve changed the width of the ring utility from 3px to 1px and changed the default color from blue-500 to currentColor to make things more consistent the border-* , divide-* , and outline-* utilities. To update your project for these changes, replace any use of ring with ring-3 : &#x3C; button class = "focus:ring ..." > &#x3C; button class = "focus:ring-3 ..." > &#x3C;!-- ... --> &#x3C;/ button > Then make sure to add ring-blue-500 anywhere you were depending on the default ring color: &#x3C; button class = "focus:ring-3 focus:ring-blue-500 ..." > &#x3C;!-- ... --> &#x3C;/ button > Alternatively, add these theme variables to your CSS to preserve the v3 behavior: CSS @theme { --default-ring-width : 3 px ; --default-ring-color : var ( --color-blue-500 ); } Note though that these variables are only supported for compatibility reasons, and are not considered idiomatic usage of Tailwind CSS v4.0. Preflight changes We&#x27;ve made a couple small changes to the base styles in Preflight in v4: New default placeholder color In v3, placeholder text used your configured gray-400 color by default. We&#x27;ve simplified this in v4 to just use the current text color at 50% opacity. You probably won&#x27;t even notice this change (it might even make your project look better), but if you want to preserve the v3 behavior, add this CSS to your project: CSS @layer base { input:: placeholder , textarea:: placeholder { color : var ( --color-gray-400 ); } } Buttons use the default cursor Buttons now use cursor: default instead of cursor: pointer to match the default browser behavior. If you&#x27;d like to continue using cursor: pointer by default, add these base styles to your CSS: CSS @layer base { button:not ( :disabled ), [ role = " button " ]:not ( :disabled ) { cursor : pointer ; } } Dialog margins removed Preflight now resets margins on <dialog> elements to be consistent with how other elements are reset. If you still want dialogs to be centered by default, add this CSS to your project: CSS @layer base { dialog { margin : auto ; } } Hidden attribute takes priority Display classes like block or flex no longer take priority over the hidden attribute on an element. Remove the hidden attribute if you want an element to be visible to the user. Note that this does not apply to hidden=&quot;until-found&quot; . Using a prefix Prefixes now look like variants and are always at the beginning of the class name: &#x3C; div class = " tw:flex tw:bg-red-500 tw:hover:bg-red-600 " > &#x3C;!-- ... --> &#x3C;/ div > When using a prefix, you should still configure your theme variables as if you aren&#x27;t using a prefix: @import "tailwindcss" prefix ( tw ); @theme { --font-display : "Satoshi" , "sans-serif" ; --breakpoint-3xl : 120 rem ; --color-avocado-100 : oklch ( 0.99 0 0 ); --color-avocado-200 : oklch ( 0.98 0.04 113.22 ); --color-avocado-300 : oklch ( 0.94 0.11 115.03 ); /* ... */ } The generated CSS variables will include a prefix to avoid conflicts with any existing variables in your project: :root { --tw-font-display : "Satoshi" , "sans-serif" ; --tw-breakpoint-3xl : 120 rem ; --tw-color-avocado-100 : oklch ( 0.99 0 0 ); --tw-color-avocado-200 : oklch ( 0.98 0.04 113.22 ); --tw-color-avocado-300 : oklch ( 0.94 0.11 115.03 ); /* ... */ } The important modifier In v3 you could mark a utility as important by placing an ! at the beginning of the utility name (but after any variants). In v4 you should place the ! at the very end of the class name instead: &#x3C; div class = " flex! bg-red-500! hover:bg-red-600/50! " > &#x3C;!-- ... --> &#x3C;/ div > The old way is still supported for compatibility but is deprecated. Adding custom utilities In v3, any custom classes you defined within @layer utilities or @layer components would get picked up by Tailwind as a true utility class and would automatically work with variants like hover , focus , or lg with the difference being that @layer components would always come first in the generated stylesheet. In v4 we are using native cascade layers and no longer hijacking the @layer at-rule, so we&#x27;ve introduced the @utility API as a replacement: CSS @layer utilities { .tab-4 { tab-size : 4 ; } } @utility tab-4 { tab-size: 4; } Custom utilities are now also sorted based on the amount of properties they define. This means that component utilities like this .btn can be overwritten by other Tailwind utilities without additional configuration: CSS @layer components { .btn { border-radius : 0.5 rem ; padding : 0.5 rem 1 rem ; background-color : ButtonFace ; } } @utility btn { border-radius: 0.5rem; padding: 0.5rem 1rem; background-color: ButtonFace; } Learn more about registering custom utilities in the adding custom utilities documentation . Variant stacking order In v3, stacked variants were applied from right to left, but in v4 we&#x27;ve updated them to apply left to right to look more like CSS syntax. To update your project for this change, reverse the order of any order-sensitive stacked variants in your project: HTML &#x3C; ul class = "py-4 first:*:pt-0 last:*:pb-0" > &#x3C; ul class = "py-4 *:first:pt-0 *:last:pb-0" > &#x3C; li > One &#x3C;/ li > &#x3C; li > Two &#x3C;/ li > &#x3C; li > Three &#x3C;/ li > &#x3C;/ ul > You likely have very few of these if any—the direct child variant ( * ) and any typography plugin variants ( prose-headings ) are the most likely ones you might be using, and even then it&#x27;s only if you&#x27;ve stacked them with other variants. Variables in arbitrary values In v3 you were able to use CSS variables as arbitrary values without var() , but recent updates to CSS mean that this can often be ambiguous, so we&#x27;ve changed the syntax for this in v4 to use parentheses instead of square brackets. To update your project for this change, replace usage of the old variable shorthand syntax with the new variable shorthand syntax: HTML &#x3C; div class = "bg-[--brand-color]" >&#x3C;/ div > &#x3C; div class = "bg-(--brand-color)" >&#x3C;/ div > Arbitrary values in grid and object-position utilities Commas were previously replaced with spaces in the grid-cols-* , grid-rows-* , and object-* utilities inside arbitrary values. This special behavior existed in Tailwind CSS v3 for compatibility with v2. This compatibility no longer exists in v4.0 and underscores must be used to represent spaces. To update your project for this change, replace usage of commas that were intended to be spaces with underscores: HTML &#x3C; div class = "grid-cols-[max-content,auto]" >&#x3C;/ div > &#x3C; div class = "grid-cols-[max-content_auto]" >&#x3C;/ div > Hover styles on mobile In v4 we&#x27;ve updated the hover variant to only apply when the primary input device supports hover: CSS @media ( hover : hover ) { .hover \: underline:hover { text-decoration : underline ; } } This can create problems if you&#x27;ve built your site in a way that depends on touch devices triggering hover on tap. If this is an issue for you, you can override the hover variant with your own variant that uses the old implementation: CSS @custom-variant hover (&#x26;:hover) ; Generally though we recommend treating hover functionality as an enhancement, and not depending on it for your site to work since touch devices don&#x27;t truly have the ability to hover. Transitioning outline-color The transition and transition-colors utilities now include the outline-color property. This means if you were adding an outline with a custom color on focus, you will see the color transition from the default color. To avoid this, make sure you set the outline color unconditionally, or explicitly set it for both states: HTML &#x3C; button class = "transition hover:outline-2 hover:outline-cyan-500" >&#x3C;/ button > &#x3C; button class = "outline-cyan-500 transition hover:outline-2" >&#x3C;/ button > Individual transform properties The rotate-* , scale-* , and translate-* utilities are now based on the individual rotate , scale , and translate properties in CSS. Normally this shouldn&#x27;t affect the behavior but there&#x27;s a couple of cases to look out for: Resetting Transforms You previously would&#x27;ve been able to &quot;reset&quot; your rotate, scale, and translate utilities via transform-none . This no longer works and you will need to reset the individual properties instead: HTML &#x3C; button class = "scale-150 focus:transform-none" >&#x3C;/ button > &#x3C; button class = "scale-150 focus:scale-none" >&#x3C;/ button > Transitions If you customize the list of transitioned properties and include transform (e.g. by writing transition-[opacity,transform] ) then these utilities will no longer transition. To fix this, include the individual properties in the list. For example, if you want to transition changes when using opacity-* and scale-* utilities you should use transition-[opacity,scale] instead. HTML &#x3C; button class = "transition-[opacity,transform] hover:scale-150" >&#x3C;/ button > &#x3C; button class = "transition-[opacity,scale] hover:scale-150" >&#x3C;/ button > Disabling core plugins In v3 there was a corePlugins option you could use to completely disable certain utilities in the framework. This is no longer supported in v4. Using the theme() function Since v4 includes CSS variables for all of your theme values, we recommend using those variables instead of the theme() function whenever possible: CSS .my-class { background-color : theme ( colors.red.500 ); background-color : var ( --color-red-500 ); } For cases where you still need to use the theme() function (like in media queries where CSS variables aren&#x27;t supported), you should use the CSS variable name instead of the old dot notation: CSS @media ( width >= theme(screens.xl ) ) { @media ( width >= theme(--breakpoint-xl ) ) { /* ... */ } Using a JavaScript config file JavaScript config files are still supported for backward compatibility, but they are no longer detected automatically in v4. If you still need to use a JavaScript config file, you can load it explicitly using the @config directive: CSS @config "../../tailwind.config.js" ; The corePlugins , safelist , and separator options from the JavaScript-based config are not supported in v4.0. To safelist utilities in v4 use @source inline() . Theme values in JavaScript In v3 we exported a resolveConfig function that you could use to turn your JavaScript-based config into a flat object that you could use in your other JavaScript. We&#x27;ve removed this in v4 in hopes that people can use the CSS variables we generate directly instead, which is much simpler and will significantly reduce your bundle size. For example, the popular Motion library for React lets you animate to and from CSS variable values: JSX &#x3C; motion.div animate ={{ backgroundColor : " var(--color-blue-500) " }} /> If you need access to a resolved CSS variable value in JS, you can use getComputedStyle to get the value of a theme variable on the document root: spaghetti.js let styles = getComputedStyle ( document . documentElement ) ; let shadow = styles . getPropertyValue ( "--shadow-xl" ) ; Using @apply with Vue, Svelte, or CSS modules In v4, stylesheets that are bundled separately from your main CSS file (e.g. CSS modules files, <style> blocks in Vue, Svelte, or Astro, etc.) do not have access to theme variables, custom utilities, and custom variants defined in other files. To make these definitions available in these contexts, use @reference to import them without duplicating any CSS in your bundle: Vue &#x3C; template > &#x3C; h1 > Hello world! &#x3C;/ h1 > &#x3C;/ template > &#x3C; style > @reference "../../app.css" ; h1 { @apply text-2xl font-bold text-red-500 ; } &#x3C;/ style > Alternatively, you can use your CSS theme variables directly instead of using @apply at all, which will also improve performance since Tailwind won&#x27;t need to process these styles: Vue &#x3C; template > &#x3C; h1 > Hello world! &#x3C;/ h1 > &#x3C;/ template > &#x3C; style > h1 { color : var ( --text-red-500 ); } &#x3C;/ style > You can find more documentation on using Tailwind with CSS modules . Using Sass, Less, and Stylus Tailwind CSS v4.0 is not designed to be used with CSS preprocessors like Sass, Less, or Stylus. Think of Tailwind CSS itself as your preprocessor — you shouldn&#x27;t use Tailwind with Sass for the same reason you wouldn&#x27;t use Sass with Stylus. Because of this it is not possible to use Sass, Less, or Stylus for your stylesheets or <style> blocks in Vue, Svelte, Astro, etc. Learn more in the compatibility documentation . Compatibility Styling with utility classes On this page Using the upgrade tool Upgrading manually Using PostCSS Using Vite Using Tailwind CLI Changes from v3 Browser requirements Removed @tailwind directives Removed deprecated utilities Renamed utilities Space-between selector Divide selector Using variants with gradients Container configuration Default border color Default ring width and color Preflight changes Using a prefix The important modifier Adding custom utilities Variant stacking order Variables in arbitrary values Arbitrary values in grid and object-position utilities Hover styles on mobile Transitioning outline-color Individual transform properties Disabling core plugins Using the theme() function Using a JavaScript config file Theme values in JavaScript Using @apply with Vue, Svelte, or CSS modules Using Sass, Less, and Stylus Tailwind CSS Documentation Playground Blog Showcase Sponsor Resources Refactoring UI Headless UI Heroicons Hero Patterns Tailwind Plus UI Blocks Templates UI Kit Community GitHub Discord X Tailwind CSS Documentation Playground Blog Showcase Sponsor Tailwind Plus UI Blocks Templates UI Kit Resources Refactoring UI Headless UI Heroicons Hero Patterns Community GitHub Discord X Copyright © 2026 Tailwind Labs Inc. · Trademark Policy

---

## Next.js v16 upgrade guide

Source: https://nextjs.org/docs/app/guides/upgrading/version-16

Status: 200

Content-Type: text/html; charset=utf-8

Upgrading: Version 16 | Next.js Skip to content Search documentation... Search... ⌘K Showcase Docs Blog Templates Enterprise Search documentation... Search... ⌘K Feedback Learn Menu Using App Router Features available in /app Latest Version 16.1.6 Getting Started Installation Project Structure Layouts and Pages Linking and Navigating Server and Client Components Cache Components Fetching Data Updating Data Caching and Revalidating Error Handling CSS Image Optimization Font Optimization Metadata and OG images Route Handlers Proxy Deploying Upgrading Guides Analytics Authentication Backend for Frontend Caching CI Build Caching Content Security Policy CSS-in-JS Custom Server Data Security Debugging Draft Mode Environment Variables Forms ISR Instrumentation Internationalization JSON-LD Lazy Loading Development Environment Next.js MCP Server MDX Memory Usage Migrating App Router Create React App Vite Multi-tenant Multi-zones OpenTelemetry Package Bundling Prefetching Production PWAs Public pages Redirecting Sass Scripts Self-Hosting SPAs Static Exports Tailwind CSS v3 Testing Cypress Jest Playwright Vitest Third Party Libraries Upgrading Codemods Version 14 Version 15 Version 16 Videos API Reference Directives use cache use cache: private use cache: remote use client use server Components Font Form Component Image Component Link Component Script Component File-system conventions default.js Dynamic Segments error.js forbidden.js instrumentation.js instrumentation-client.js Intercepting Routes layout.js loading.js mdx-components.js not-found.js page.js Parallel Routes proxy.js public route.js Route Groups Route Segment Config src template.js unauthorized.js Metadata Files favicon, icon, and apple-icon manifest.json opengraph-image and twitter-image robots.txt sitemap.xml Functions after cacheLife cacheTag connection cookies draftMode fetch forbidden generateImageMetadata generateMetadata generateSitemaps generateStaticParams generateViewport headers ImageResponse NextRequest NextResponse notFound permanentRedirect redirect refresh revalidatePath revalidateTag unauthorized unstable_cache unstable_noStore unstable_rethrow updateTag useLinkStatus useParams usePathname useReportWebVitals useRouter useSearchParams useSelectedLayoutSegment useSelectedLayoutSegments userAgent Configuration next.config.js experimental.adapterPath allowedDevOrigins appDir assetPrefix authInterrupts basePath browserDebugInfoInTerminal cacheComponents cacheHandlers cacheLife compress crossOrigin cssChunking devIndicators distDir env expireTime exportPathMap generateBuildId generateEtags headers htmlLimitedBots httpAgentOptions images cacheHandler inlineCss isolatedDevBuild logging mdxRs onDemandEntries optimizePackageImports output pageExtensions poweredByHeader productionBrowserSourceMaps proxyClientMaxBodySize reactCompiler reactMaxHeadersLength reactStrictMode redirects rewrites sassOptions serverActions serverComponentsHmrCache serverExternalPackages staleTimes staticGeneration* taint trailingSlash transpilePackages turbopack turbopackFileSystemCache typedRoutes typescript urlImports useLightningcss viewTransition webpack webVitalsAttribution TypeScript ESLint CLI create-next-app next CLI Edge Runtime Turbopack Glossary Getting Started Installation Project Structure Images Fonts CSS Deploying Guides Analytics Authentication Babel CI Build Caching Content Security Policy CSS-in-JS Custom Server Debugging Draft Mode Environment Variables Forms ISR Instrumentation Internationalization Lazy Loading MDX Migrating App Router Create React App Vite Multi-Zones OpenTelemetry Package Bundling PostCSS Preview Mode Production Redirecting Sass Scripts Self-Hosting Static Exports Tailwind CSS Testing Cypress Jest Playwright Vitest Third Party Libraries Upgrading Codemods Version 10 Version 11 Version 12 Version 13 Version 14 Version 9 Building Your Application Routing Pages and Layouts Dynamic Routes Linking and Navigating Custom App Custom Document API Routes Custom Errors Rendering Server-side Rendering (SSR) Static Site Generation (SSG) Automatic Static Optimization Client-side Rendering (CSR) Data Fetching getStaticProps getStaticPaths Forms and Mutations getServerSideProps Client-side Fetching Configuring Error Handling API Reference Components Font Form Head Image Image (Legacy) Link Script File-system conventions instrumentation.js Proxy public src Directory Functions getInitialProps getServerSideProps getStaticPaths getStaticProps NextRequest NextResponse useParams useReportWebVitals useRouter useSearchParams userAgent Configuration next.config.js Options experimental.adapterPath allowedDevOrigins assetPrefix basePath bundlePagesRouterDependencies compress crossOrigin devIndicators distDir env exportPathMap generateBuildId generateEtags headers httpAgentOptions images isolatedDevBuild onDemandEntries optimizePackageImports output pageExtensions poweredByHeader productionBrowserSourceMaps experimental.proxyClientMaxBodySize reactStrictMode redirects rewrites serverExternalPackages trailingSlash transpilePackages turbopack typescript urlImports useLightningcss webpack webVitalsAttribution TypeScript ESLint CLI create-next-app CLI next CLI Edge Runtime Turbopack Architecture Accessibility Fast Refresh Next.js Compiler Supported Browsers Community Contribution Guide Rspack On this page Upgrading from 15 to 16 Using AI Agents with Next.js DevTools MCP Setup Example Prompts Using the Codemod Node.js runtime and browser support Turbopack by default Opting out of Turbopack Turbopack configuration location Resolve alias fallback Sass node_modules imports Turbopack File System Caching (beta) Async Request APIs (Breaking change) Migrating types for async Dynamic APIs Async parameters for icon, and open-graph Image (Breaking change) Async id parameter for sitemap (Breaking change) React 19.2 React Compiler Support Caching APIs revalidateTag updateTag refresh cacheLife and cacheTag Enhanced Routing and Navigation Partial Pre-Rendering (PPR) middleware to proxy next/image changes Local Images with Query Strings (Breaking change) minimumCacheTTL Default (Breaking change) imageSizes Default (Breaking change) qualities Default (Breaking change) Local IP Restriction (Breaking change) Maximum Redirects (Breaking change) next/legacy/image Component (deprecated) images.domains Configuration (deprecated) Concurrent dev and build Parallel Routes default.js requirement ESLint Flat Config Scroll Behavior Override Performance Improvements next dev config load Build Adapters API (alpha) Modern Sass API Removals AMP Support next lint Command Runtime Configuration devIndicators Options experimental.dynamicIO unstable_rootParams Edit this page on GitHub Scroll to top Guides Upgrading Version 16 Copy page How to upgrade to version 16 Last updated January 16, 2026 Upgrading from 15 to 16 Using AI Agents with Next.js DevTools MCP If you&#x27;re using an AI coding assistant that supports the Model Context Protocol (MCP) , you can use the Next.js DevTools MCP to automate the upgrade process and migration tasks. Setup Add the following configuration to your MCP client, for each coding agent you can read this section for configuration details. example: .mcp.json { &quot;mcpServers&quot; : { &quot;next-devtools&quot; : { &quot;command&quot; : &quot;npx&quot; , &quot;args&quot; : [ &quot;-y&quot; , &quot;next-devtools-mcp@latest&quot; ] } } } For more information, visit the next-devtools-mcp documentation to configure with your MCP client. Note: Using next-devtools-mcp@latest ensures that your MCP client will always use the latest version of the Next.js DevTools MCP server. Example Prompts Once configured, you can use natural language prompts to upgrade your Next.js app: To upgrade to Next.js 16: Connect to your coding agent and then prompt: Next Devtools, help me upgrade my Next.js app to version 16 To migrate to Cache Components (after upgrading to v16): Connect to your coding agent and then prompt: Next Devtools, migrate my Next.js app to cache components Learn more in the documentation here . Using the Codemod To update to Next.js version 16, you can use the upgrade codemod : Terminal npx @next/codemod@canary upgrade latest The codemod is able to: Update next.config.js to use the new turbopack configuration Migrate from next lint to the ESLint CLI Migrate from deprecated middleware convention to proxy Remove unstable_ prefix from stabilized APIs Remove experimental_ppr Route Segment Config from pages and layouts If you prefer to do it manually, install the latest Next.js and React versions: Terminal npm install next@latest react@latest react-dom@latest If you are using TypeScript, ensure you also upgrade @types/react and @types/react-dom to their latest versions. Node.js runtime and browser support Requirement Change / Details Node.js 20.9+ Minimum version now 20.9.0 (LTS); Node.js 18 no longer supported TypeScript 5+ Minimum version now 5.1.0 Browsers Chrome 111+, Edge 111+, Firefox 111+, Safari 16.4+ Turbopack by default Starting with Next.js 16 , Turbopack is stable and used by default with next dev and next build Previously you had to enable Turbopack using --turbopack , or --turbo . package.json { &quot;scripts&quot; : { &quot;dev&quot; : &quot;next dev --turbopack&quot; , &quot;build&quot; : &quot;next build --turbopack&quot; , &quot;start&quot; : &quot;next start&quot; } } This is no longer necessary. You can update your package.json scripts: package.json { &quot;scripts&quot; : { &quot;dev&quot; : &quot;next dev&quot; , &quot;build&quot; : &quot;next build&quot; , &quot;start&quot; : &quot;next start&quot; } } If your project has a custom webpack configuration and you run next build (which now uses Turbopack by default), the build will fail to prevent misconfiguration issues. You have a few different ways to address this: Use Turbopack anyway: Run with next build --turbopack to build using Turbopack and ignore your webpack config. Switch to Turbopack fully: Migrate your webpack config to Turbopack-compatible options. Keep using Webpack: Use the --webpack flag to opt out of Turbopack and build with Webpack. Good to know : If you see failing builds because a webpack configuration was found, but you don&#x27;t define one yourself, it is likely that a plugin is adding a webpack option Opting out of Turbopack If you need to continue using Webpack, you can opt out with the --webpack flag. For example, to use Turbopack in development but Webpack for production builds: package.json { &quot;scripts&quot; : { &quot;dev&quot; : &quot;next dev&quot; , &quot;build&quot; : &quot;next build --webpack&quot; , &quot;start&quot; : &quot;next start&quot; } } We recommend using Turbopack for development and production. Submit a comment to this thread , if you are unable to switch to Turbopack. Turbopack configuration location The experimental.turbopack configuration is out of experimental. next.config.ts import type { NextConfig } from &#x27;next&#x27; // Next.js 15 - experimental.turbopack const nextConfig : NextConfig = { experimental : { turbopack : { // options } , } , } export default nextConfig You can use it as a top-level turbopack option: next.config.ts import type { NextConfig } from &#x27;next&#x27; // Next.js 16 - turbopack at the top level of nextConfig const nextConfig : NextConfig = { turbopack : { // options } , } export default nextConfig Make sure to review the Turbopack configuration options . Next.js 16 introduces various improvements and new options, for example: Advanced Webpack loader conditions debugIds Resolve alias fallback In some projects, client-side code may import files containing Node.js native modules. This will cause Module not found: Can&#x27;t resolve &#x27;fs&#x27; type of errors. When this happens, you should refactor your code so that your client-side bundles do not reference these Node.js native modules. However, in some cases, this might not be possible. In Webpack the resolve.fallback option was typically used to silence the error. Turbopack offers a similar option, using turbopack.resolveAlias . In this case, tell Turbopack to load an empty module when fs is requested for the browser. next.config.ts import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { turbopack : { resolveAlias : { fs : { browser : &#x27;./empty.ts&#x27; , // We recommend to fix code imports before using this method } , } , } , } export default nextConfig It is preferable to refactor your modules so that client code doesn&#x27;t ever import from modules using Node.js native modules. Sass node_modules imports Turbopack fully supports importing Sass files from node_modules . Note that while Webpack allowed the legacy tilde ( ~ ) prefix, Turbopack does not support this syntax. In Webpack: styles/globals.scss @import &#x27;~bootstrap/dist/css/bootstrap.min.css&#x27; ; In Turbopack: styles/globals.scss @import &#x27;bootstrap/dist/css/bootstrap.min.css&#x27; ; If changing the imports is not possible, you can use turbopack.resolveAlias . For example: next.config.ts import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { turbopack : { resolveAlias : { &#x27;~*&#x27; : &#x27;*&#x27; , } , } , } export default nextConfig Turbopack File System Caching (beta) Turbopack now supports filesystem caching in development, storing compiler artifacts on disk between runs for significantly faster compile times across restarts. Enable filesystem caching in your configuration: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { experimental : { turbopackFileSystemCacheForDev : true , } , } export default nextConfig Async Request APIs (Breaking change) Version 15 introduced Async Request APIs as a breaking change, with temporary synchronous compatibility. Starting with Next.js 16 , synchronous access is fully removed. These APIs can only be accessed asynchronously. cookies headers draftMode params in layout.js , page.js , route.js , default.js , opengraph-image , twitter-image , icon , and apple-icon . searchParams in page.js Use the codemod to migrate to async Dynamic APIs. Migrating types for async Dynamic APIs To help migrate to async params and searchParams , you can run npx next typegen to automatically generate these globally available types helpers: PageProps LayoutProps RouteContext Good to know : typegen was introduced in Next.js 15.5 This simplifies type-safe migration to the new async API pattern, and enables you to update your components with full type safety, for example: /app/blog/[slug]/page.tsx export default async function Page (props : PageProps < &#x27;/blog/[slug]&#x27; >) { const { slug } = await props .params const query = await props .searchParams return < h1 >Blog Post: {slug}</ h1 > } This approach gives you fully type-safe access to props.params , including the slug , and to searchParams , directly within your page. Async parameters for icon, and open-graph Image (Breaking change) The props passed to the image generating functions in opengraph-image , twitter-image , icon , and apple-icon , are now Promises. In previous versions, both the Image (image generation function), and the generateImageMetadata received a params object. The id returned by generateImageMetadata was passed as a string to the image generation function. app/shop/[slug]/opengraph-image.js // Next.js 15 - synchronous params access export function generateImageMetadata ({ params }) { const { slug } = params return [{ id : &#x27;1&#x27; } , { id : &#x27;2&#x27; }] } // Next.js 15 - synchronous params and id access export default function Image ({ params , id }) { const slug = params .slug const imageId = id // string // ... } Starting with Next.js 16 , to align with the Async Request APIs change, the image generating function now receives params and id as promises. The generateImageMetadata function continues to receive synchronous params . app/shop/[slug]/opengraph-image.js export async function generateImageMetadata ({ params }) { const { slug } = params return [{ id : &#x27;1&#x27; } , { id : &#x27;2&#x27; }] } // Next.js 16 - asynchronous params and id access export default async function Image ({ params , id }) { const { slug } = await params // params now async const imageId = await id // id is now Promise<string> when using generateImageMetadata // ... } Async id parameter for sitemap (Breaking change) Previously, the id values returned from generateSitemaps were passed directly to the sitemap generating function. app/product/sitemap.js export async function generateSitemaps () { return [{ id : 0 } , { id : 1 } , { id : 2 } , { id : 3 }] } // Next.js 15 - synchronous id access export default async function sitemap ({ id }) { const start = id * 50000 // id is a number // ... } Starting with Next.js 16 , the sitemap generating function now receives id as a promise. app/product/sitemap.js export async function generateSitemaps () { return [{ id : 0 } , { id : 1 } , { id : 2 } , { id : 3 }] } // Next.js 16 - asynchronous id access export default async function sitemap ({ id }) { const resolvedId = await id // id is now Promise<string> const start = Number (resolvedId) * 50000 // ... } React 19.2 The App Router in Next.js 16 uses the latest React Canary release , which includes the newly released React 19.2 features and other features being incrementally stabilized. Highlights include: View Transitions : Animate elements that update inside a Transition or navigation useEffectEvent : Extract non-reactive logic from Effects into reusable Effect Event functions Activity : Render &quot;background activity&quot; by hiding UI with display: none while maintaining state and cleaning up Effects Learn more in the React 19.2 announcement . React Compiler Support Built-in support for the React Compiler is now stable in Next.js 16 following the React Compiler&#x27;s 1.0 release. The React Compiler automatically memoizes components, reducing unnecessary re-renders with zero manual code changes. The reactCompiler configuration option has been promoted from experimental to stable. It is not enabled by default as we continue gathering build performance data across different application types. next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { reactCompiler : true , } export default nextConfig Install the latest version of the React Compiler plugin: Terminal npm install -D babel-plugin-react-compiler Good to know: Expect compile times in development and during builds to be higher when enabling this option as the React Compiler relies on Babel. Caching APIs revalidateTag revalidateTag has a new function signature. You can pass a cacheLife profile as the second argument. app/actions.ts TypeScript JavaScript TypeScript &#x27;use server&#x27; import { revalidateTag } from &#x27;next/cache&#x27; export async function updateArticle (articleId : string ) { // Mark article data as stale - article readers see stale data while it revalidates revalidateTag ( `article- ${ articleId } ` , &#x27;max&#x27; ) } Use revalidateTag for content where a slight delay in updates is acceptable, such as blog posts, product catalogs, or documentation. Users receive stale content while fresh data loads in the background. updateTag updateTag is a new Server Actions -only API that provides read-your-writes semantics, where a user makes a change and the UI immediately shows the change, rather than stale data. It does this by expiring and immediately refreshing data within the same request. app/actions.ts TypeScript JavaScript TypeScript &#x27;use server&#x27; import { updateTag } from &#x27;next/cache&#x27; export async function updateUserProfile (userId : string , profile : Profile ) { await db . users .update (userId , profile) // Expire cache and refresh immediately - user sees their changes right away updateTag ( `user- ${ userId } ` ) } This ensures interactive features reflect changes immediately. Perfect for forms, user settings, and any workflow where users expect to see their updates instantly. Learn more about when to use updateTag or revalidateTag here . refresh refresh allows you to refresh the client router from within a Server Action. app/actions.ts TypeScript JavaScript TypeScript &#x27;use server&#x27; import { refresh } from &#x27;next/cache&#x27; export async function markNotificationAsRead (notificationId : string ) { // Update the notification in the database await db . notifications .markAsRead (notificationId) // Refresh the notification count displayed in the header refresh () } Use it when you need to refresh the client router after performing an action. cacheLife and cacheTag cacheLife and cacheTag are now stable. The unstable_ prefix is no longer needed. Wherever you had aliased imports like: import { unstable_cacheLife as cacheLife , unstable_cacheTag as cacheTag , } from &#x27;next/cache&#x27; You can update your imports to: import { cacheLife , cacheTag } from &#x27;next/cache&#x27; Enhanced Routing and Navigation Next.js 16 includes a complete overhaul of the routing and navigation system, making page transitions leaner and faster. This optimizes how Next.js prefetches and caches navigation data: Layout deduplication : When prefetching multiple URLs with a shared layout, the layout is downloaded once. Incremental prefetching : Next.js only prefetches parts not already in cache, rather than entire pages. These changes require no code modifications and are designed to improve performance across all apps. However, you may see more individual prefetch requests with much lower total transfer sizes. We believe this is the right trade-off for nearly all applications. If the increased request count causes issues, please let us know by creating an issue or discussion item. Partial Pre-Rendering (PPR) Next.js 16 removes the experimental Partial Pre-Rendering (PPR) flag and configuration options, including the route level segment experimental_ppr . Starting with Next.js 16 , you can opt into PPR using the cacheComponents configuration. next.config.js /** @type {import(&#x27;next&#x27;).NextConfig} */ const nextConfig = { cacheComponents : true , } module . exports = nextConfig PPR in Next.js 16 works differently than in Next.js 15 canaries. If you are using PPR today, stay in the current Next.js 15 canary you are using. We will follow up with a guide to migrate to Cache Components. next.config.js /** @type {import(&#x27;next&#x27;).NextConfig} */ const nextConfig = { // If you are using PPR today // stay in the current Next.js 15 canary experimental : { ppr : true , } , } module . exports = nextConfig middleware to proxy The middleware filename is deprecated, and has been renamed to proxy to clarify network boundary and routing focus. The edge runtime is NOT supported in proxy . The proxy runtime is nodejs , and it cannot be configured. If you want to continue using the edge runtime, keep using middleware . We will follow up on a minor release with further edge runtime instructions. Terminal # Rename your middleware file mv middleware.ts proxy.ts # or mv middleware.js proxy.js The named export middleware is also deprecated. Rename your function to proxy . proxy.ts TypeScript JavaScript TypeScript export function proxy (request : Request ) {} We recommend changing the function name to proxy , even if you are using a default export. Configuration flags that contained the middleware name are also renamed. For example, skipMiddlewareUrlNormalize is now skipProxyUrlNormalize next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { skipProxyUrlNormalize : true , } export default nextConfig The version 16 codemod is able to update these flags too. next/image changes Local Images with Query Strings (Breaking change) Local image sources with query strings now require images.localPatterns.search configuration to prevent enumeration attacks. app/page.tsx import Image from &#x27;next/image&#x27; export default function Page () { return < Image src = &quot;/assets/photo?v=1&quot; alt = &quot;Photo&quot; width = &quot;100&quot; height = &quot;100&quot; /> } If you need to use query strings with local images, add the pattern to your configuration: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { localPatterns : [ { pathname : &#x27;/assets/**&#x27; , search : &#x27;?v=1&#x27; , } , ] , } , } export default nextConfig minimumCacheTTL Default (Breaking change) The default value for images.minimumCacheTTL has changed from 60 seconds to 4 hours (14400 seconds). This reduces revalidation cost for images without cache-control headers. For some Next.js users, image revalidation was happening frequently, often because the upstream source images missed a cache-control header. This caused revalidation to happen every 60 seconds, which increased CPU usage and cost. Since most images do not change often, this short interval is not ideal. Setting the default to 4 hours offers a more durable cache by default, while still allowing images to update a few times per day if needed. If you need the previous behavior, change minimumCacheTTL to a lower value, for example back to 60 seconds: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { minimumCacheTTL : 60 , } , } export default nextConfig imageSizes Default (Breaking change) The value 16 has been removed from the default images.imageSizes array. We have looked at request analytics and found out that very few projects ever serve 16 pixels width images. Removing this setting reduces the size of the srcset attribute shipped to the browser by next/image . If you need to support 16px images: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { imageSizes : [ 16 , 32 , 48 , 64 , 96 , 128 , 256 , 384 ] , } , } export default nextConfig Rather than lack of developer usage, we believe 16 pixels width images have become less common, because devicePixelRatio: 2 actually fetches a 32px image to prevent blurriness in retina displays. qualities Default (Breaking change) The default value for images.qualities has changed from allowing all qualities to only [75] . If you need to support multiple quality levels: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { qualities : [ 50 , 75 , 100 ] , } , } export default nextConfig If you specify a quality prop not included in the image.qualities array, the quality will be coerced to the closest value in images.qualities . For example, given the configuration above, a quality prop of 80, is coerced to 75. Local IP Restriction (Breaking change) A new security restriction blocks local IP optimization by default. Set images.dangerouslyAllowLocalIP to true only for private networks. next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { dangerouslyAllowLocalIP : true , // Only for private networks } , } export default nextConfig Maximum Redirects (Breaking change) The default for images.maximumRedirects has changed from unlimited to 3 redirects maximum. next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { maximumRedirects : 0 , // Disable redirects // or maximumRedirects : 5 , // Increase for edge cases } , } export default nextConfig next/legacy/image Component (deprecated) The next/legacy/image component is deprecated. Use next/image instead: // Before import Image from &#x27;next/legacy/image&#x27; // After import Image from &#x27;next/image&#x27; images.domains Configuration (deprecated) The images.domains config is deprecated. next.config.js // image.domains is deprecated module . exports = { images : { domains : [ &#x27;example.com&#x27; ] , } , } Use images.remotePatterns instead for improved security: next.config.js // Use image.remotePatterns instead module . exports = { images : { remotePatterns : [ { protocol : &#x27;https&#x27; , hostname : &#x27;example.com&#x27; , } , ] , } , } Concurrent dev and build next dev and next build now use separate output directories, enabling concurrent execution. The next dev command outputs to .next/dev . This is the new default behavior, controlled by isolatedDevBuild . Additionally, a lockfile mechanism prevents multiple next dev or next build instances on the same project. Since the development server outputs to .next/dev , the Turbopack tracing command should be: npx next internal trace .next/dev/trace-turbopack Parallel Routes default.js requirement All parallel route slots now require explicit default.js files. Builds will fail without them. To maintain previous behavior, create a default.js file that calls notFound() or returns null . app/@modal/default.tsx import { notFound } from &#x27;next/navigation&#x27; export default function Default () { notFound () } Or return null : app/@modal/default.tsx export default function Default () { return null } ESLint Flat Config @next/eslint-plugin-next now defaults to ESLint Flat Config format, aligning with ESLint v10 which will drop legacy config support. Make sure to review our API reference for the @next/eslint-plugin-next plugin. If you&#x27;re using the legacy .eslintrc format, consider migrating to the flat config format. See the ESLint migration guide for details. Scroll Behavior Override In previous versions of Next.js , if you had set scroll-behavior: smooth globally on your <html> element via CSS, Next.js would override this during SPA route transitions, as follows: Temporarily set scroll-behavior to auto Perform the navigation (causing instant scroll to top) Restore your original scroll-behavior value This ensured that page navigation always felt snappy and instant, even when you had smooth scrolling enabled for in-page navigation. However, this manipulation could be expensive, especially at the start of every navigation. In Next.js 16 , this behavior has changed. By default, Next.js will no longer override your scroll-behavior setting during navigation. If you want Next.js to perform this override (the previous default behavior), add the data-scroll-behavior=&quot;smooth&quot; attribute to your <html> element: app/layout.tsx export default function RootLayout ({ children }) { return ( < html lang = &quot;en&quot; data-scroll-behavior = &quot;smooth&quot; > < body >{children}</ body > </ html > ) } Performance Improvements Significant performance optimizations for next dev and next start commands, along with improved terminal output with clearer formatting, better error messages, and improved performance metrics. Next.js 16 removes the size and First Load JS metrics from the next build output. We found these to be inaccurate in server-driven architectures using React Server Components. Both our Turbopack and Webpack implementations had issues, and disagreed on how to account for Client Components payload. The most effective way to measure actual route performance is through tools such as Chrome Lighthouse or Vercel Analytics, which focus on Core Web Vitals and downloaded resource sizes. next dev config load In previous versions the Next config file was loaded twice during development: When running the next dev command When the next dev command started the Next.js server This was inefficient because the next dev command doesn&#x27;t need the config file to start the Next.js server. A consequence of this change is that, when running next dev checking if process.argv includes &#x27;dev&#x27; , in your Next.js config file, will return false . Good to know : The typegen , and build commands, are still visible in process.argv . This is specially important for plugins that trigger side-effects on next dev . If that&#x27;s the case, it might be enough to check if NODE_ENV is set to development . next.config.js import { startServer } from &#x27;docs-lib/dev-server&#x27; const isDev = process . env . NODE_ENV === &#x27;development&#x27; if (isDev) { startServer () } const nextConfig = { /* Your config options */ } module . exports = nextConfig Alternatively, use the phase in which the configuration is loaded. Build Adapters API (alpha) Following the Build Adapters RFC , the first alpha version of the Build Adapters API is now available. Build Adapters allow you to create custom adapters that hook into the build process, enabling deployment platforms and custom build integrations to modify Next.js configuration or process build output. next.config.js const nextConfig = { experimental : { adapterPath : require .resolve ( &#x27;./my-adapter.js&#x27; ) , } , } module . exports = nextConfig Share your feedback in the RFC discussion . Modern Sass API sass-loader has been bumped to v16, which supports modern Sass syntax and new features. Removals These features were previously deprecated and are now removed: AMP Support AMP adoption has declined significantly, and maintaining this feature adds complexity to the framework. All AMP APIs and configurations have been removed: amp configuration from your Next config file next/amp hook imports and usage ( useAmp ) // Removed import { useAmp } from &#x27;next/amp&#x27; // Removed export const config = { amp : true } export const config = { amp: true } from pages next.config.js const nextConfig = { // Removed amp : { canonicalBase : &#x27;https://example.com&#x27; , } , } export default nextConfig Evaluate if AMP is still necessary for your use case. Most performance benefits can now be achieved through Next.js&#x27;s built-in optimizations and modern web standards. next lint Command The next lint command has been removed. Use Biome or ESLint directly. next build no longer runs linting. A codemod is available to automate migration: Terminal npx @next/codemod@canary next-lint-to-eslint-cli . The eslint option in the Next.js config file is also removed. next.config.mjs /** @type {import(&#x27;next&#x27;).NextConfig} */ const nextConfig = { // No longer supported // eslint: {}, } export default nextConfig Runtime Configuration serverRuntimeConfig and publicRuntimeConfig have been removed. Use environment variables instead. Before (Next.js 15): next.config.js module . exports = { serverRuntimeConfig : { dbUrl : process . env . DATABASE_URL , } , publicRuntimeConfig : { apiUrl : &#x27;/api&#x27; , } , } pages/index.tsx import getConfig from &#x27;next/config&#x27; export default function Page () { const { publicRuntimeConfig } = getConfig () return < p >API URL: { publicRuntimeConfig .apiUrl}</ p > } After (Next.js 16): For server-only values, access environment variables directly in Server Components: app/page.tsx async function fetchData () { const dbUrl = process . env . DATABASE_URL // Use for server-side operations only return await db .query (dbUrl , &#x27;SELECT * FROM users&#x27; ) } export default async function Page () { const data = await fetchData () return < div >{ /* render data */ }</ div > } Good to know : Use the taint API to prevent accidentally passing sensitive server values to Client Components. For client-accessible values, use the NEXT_PUBLIC_ prefix: .env.local NEXT_PUBLIC_API_URL = &quot;/api&quot; app/components/client-component.tsx &#x27;use client&#x27; export default function ClientComponent () { const apiUrl = process . env . NEXT_PUBLIC_API_URL return < p >API URL: {apiUrl}</ p > } To ensure environment variables are read at runtime (not bundled at build time), use the connection() function before reading from process.env : app/page.tsx import { connection } from &#x27;next/server&#x27; export default async function Page () { await connection () const config = process . env . RUNTIME_CONFIG return < p >{config}</ p > } Learn more about environment variables . devIndicators Options The following options have been removed from devIndicators : appIsrStatus buildActivity buildActivityPosition The indicator itself remains available. experimental.dynamicIO The experimental.dynamicIO flag has been renamed to cacheComponents : Update your Next config file, by removing the dynamicIO flag. next.config.js // Next.js 15 - experimental.dynamicIO is now removed module . exports = { experimental : { dynamicIO : true , } , } Add the cacheComponents flag set to true. next.config.js // Next.js 16 - use cacheComponents instead module . exports = { cacheComponents : true , } unstable_rootParams The unstable_rootParams function has been removed. We are working on an alternative API that we will ship in an upcoming minor release. Previous Version 15 Next Videos Was this helpful? supported. Send Resources Docs Support Policy Learn Showcase Blog Team Analytics Next.js Conf Previews Evals More Next.js Commerce Contact Sales Community GitHub Releases Telemetry Governance About Vercel Next.js + Vercel Open Source Software GitHub Bluesky X Legal Privacy Policy Cookie Preferences Subscribe to our newsletter Stay updated on new releases and features, guides, and case studies. Subscribe © 2026 Vercel, Inc.

---

## Storybook migration guide (latest)

Source: https://storybook.js.org/docs/next/migration-guide

Status: 200

Content-Type: text/html; charset=utf-8

Migration guide for Storybook 10 | Storybook docs Docs Addons Showcase Blog Visual Test Enterprise 89,155 Search docs Get Started Docs Docs » Releases » Migrate to Storybook 10 Documentation API Tutorials Addons Changelog Version 10.2 Get Started Why Storybook? Install Frameworks What&#x27;s a story? Browse stories Setup Conclusion Stories Args Parameters Decorators Play function Loaders Tags Naming components and hierarchy Mocking data and modules Building pages and screens Stories for multiple components Writing stories in TypeScript Testing Interaction tests Accessibility tests Visual tests Snapshot tests Test coverage In CI Integrations Docs Autodocs MDX Doc blocks Code panel Preview and build docs Sharing Publish Embed Design integrations Composition Package Composition Essentials Actions Backgrounds Controls Highlight Measure & outline Toolbars & globals Viewport Addons Install Write Configure addons Write a preset Add to catalog Types of addons Knowledge base Addon API Migrate addons to 10.0 Configure Styling and CSS Telemetry Integration Story rendering Story layout User Interface Environment variables Builders Vite Webpack API API main.js|ts configuration Component Story Format (CSF) ArgTypes Parameters Doc Blocks Portable Stories Frameworks CLI options Releases Migrate to Storybook 10 Migrate from 8 to 9 Upgrading Feature Lifecycle Roadmap Contribute RFC process Code Documentation Frameworks Reproduce FAQ Migration guide for Storybook 10 React Vue Angular Web Components More Storybook 10 is a breaking maintenance release focused on ESM-only package distribution. Its main features include: 💎 ESM-only to reduce install size ↗️ CSF Next preview with better typesafety and autocompletion 🏷 Improved tags-based filtering Coming soon: 🧪 Familiar and ergonomic CSF test functions (experimental) This guide is meant to help you upgrade from Storybook 9.x to 10 successfully! ℹ️ Migrating from a Storybook version prior to 9? You&#x27;ll first need to upgrade to Storybook 9 . Then you can return to this guide. Major breaking changes The rest of this guide will help you upgrade successfully, either automatically or manually. But first, there are some breaking changes in Storybook 10. Here are the most impactful changes you should know about before you go further: Main configuration ( .storybook/main.js|ts ) and other presets must be valid ESM Ecosystem updates Node 20.19+ or 22.12+ is now required If any of these changes apply to your project, please read through the linked migration notes before continuing. If any of these new requirements or changes are blockers for your project, we recommend to continue using Storybook 8.x. You may wish to read the full migration notes before migrating. Or you can run the upgrade command below and we’ll try to take care of everything for you! Automatic upgrade To upgrade your Storybook, run the upgrade command in the root of your repository: npm npx storybook@latest upgrade This will: Find all of the Storybook projects in your repository For each project Determine that none of the breaking changes apply to your project If they do, you will receive instructions on how to resolve them before continuing Upgrade your Storybook dependencies to the latest version Run a collection of automigrations , which will: Check for common upgrade tasks Explain the necessary changes with links to more information Ask for approval, then perform the task automatically on your behalf New projects To add Storybook to a project that isn’t currently using Storybook: npm npm create storybook@latest This will: Figure out which renderer (React, Vue, Angular, Web Components), builder (Webpack, Vite), or meta-framework (Next.js, SvelteKit) you’re using Install Storybook 10 and auto-configure it to mirror project settings Troubleshooting The automatic upgrade should get your Storybook into a working state. If you encounter an error running Storybook after upgrading, here’s what to do: Try running the doctor command to check for common issues (such as duplicate dependencies, incompatible addons, or mismatched versions) and see suggestions for fixing them. If you’re running storybook with the dev command, try using the build command instead. Sometimes build errors are more legible than dev errors! Check the full migration notes , which contains an exhaustive list of noteworthy changes in Storybook 10. Many of these are already handled by automigrations when you upgrade, but not all are. It’s also possible that you’re experiencing a corner case that we’re not aware of. Search Storybook issues on GitHub . If you’re seeing a problem, there’s a good chance other people are too. If so, upvote the issue, try out any workarounds described in the comments, and comment back if you have useful info to contribute. If there’s no existing issue, you can file one , ideally with a reproduction attached. We’ll be on top of Storybook 10 issues as we’re stabilizing the release. If you prefer to debug yourself, here are a few useful things you can do to help narrow down the problem: Try removing all addons that are not in the @storybook npm namespace (make sure you don&#x27;t remove the storybook package). Community addons that work well with 9.x might not yet be compatible with 10.x, and this is the fastest way to isolate that possibility. If you find an addon that needs to be upgraded to work with Storybook 10, please post an issue on the addon’s repository, or better yet, a pull request to upgrade it! Another debugging technique is to bisect to older prerelease versions of Storybook to figure out which release broke your Storybook. For example, assuming that the current prerelease of Storybook is 10.0.0-beta.56 , you could set the version to 10.0.0-alpha.0 in your package.json and reinstall to verify that it still works ( alpha.0 should be nearly identical to 9.1.x ). If it works, you could then try 10.0.0-beta.0 , then 10.0.0-beta.28 and so forth. Once you’ve isolated the bad release, read through its CHANGELOG entry and perhaps there’s a change that jumps out as the culprit. If you find the problem, please submit an issue or pull request to the Storybook monorepo and we’ll do our best to take care of it quickly. Optional migrations In addition to the automigrations and manual migrations above, there are also optional migrations that you should consider. These are features that we’ve deprecated in Storybook 10 (but remain backwards compatible), or best practices that should help you be more productive in the future. test-runner to addon-vitest addon-vitest and the rest of the Storybook Test experience is designed to supercede the test-runner . It&#x27;s faster and provides a better experience for writing and running tests. If your project uses React, Vue, or Svelte and is built with Vite, you should consider migrating to addon-vitest , by following the installation instructions . Was this page useful? 👍 👎 ✍️ Edit on Github On this page Join the community Subscribe 7,044 developers and counting Why Why Storybook Component driven UI Docs Guides Tutorials Changelog Telemetry Community Addons Get involved Blog Showcase Explore About Open source software Maintained by Chromatic Special thanks to Netlify .

---

## React 19 upgrade guide

Source: https://react.dev/blog/2024/04/25/react-19-upgrade-guide

Status: 200

Content-Type: text/html; charset=utf-8

React 19 Upgrade Guide – React React v 19.2 Search ⌘ Ctrl K Learn Reference Community Blog Blog React 19 Upgrade Guide April 25, 2024 by Ricky Hanlon The improvements added to React 19 require some breaking changes, but we’ve worked to make the upgrade as smooth as possible, and we don’t expect the changes to impact most apps. Note React 18.3 has also been published To help make the upgrade to React 19 easier, we’ve published a react@18.3 release that is identical to 18.2 but adds warnings for deprecated APIs and other changes that are needed for React 19. We recommend upgrading to React 18.3 first to help identify any issues before upgrading to React 19. For a list of changes in 18.3 see the Release Notes . In this post, we will guide you through the steps for upgrading to React 19: Installing Codemods Breaking changes New deprecations Notable changes TypeScript changes Changelog If you’d like to help us test React 19, follow the steps in this upgrade guide and report any issues you encounter. For a list of new features added to React 19, see the React 19 release post . Installing Note New JSX Transform is now required We introduced a new JSX transform in 2020 to improve bundle size and use JSX without importing React. In React 19, we’re adding additional improvements like using ref as a prop and JSX speed improvements that require the new transform. If the new transform is not enabled, you will see this warning: Console Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform We expect most apps will not be affected since the transform is enabled in most environments already. For manual instructions on how to upgrade, please see the announcement post . To install the latest version of React and React DOM: npm install -- save - exact react @^ 19.0 . 0 react - dom @^ 19.0 .0 Or, if you’re using Yarn: yarn add -- exact react @^ 19.0 .0 react - dom @^ 19.0 . 0 If you’re using TypeScript, you also need to update the types. npm install -- save - exact @ types /react@^19.0.0 @types/ react - dom @^ 19.0 . 0 Or, if you’re using Yarn: yarn add -- exact @ types /react@^19.0.0 @types/ react - dom @^ 19.0 . 0 We’re also including a codemod for the most common replacements. See TypeScript changes below. Codemods To help with the upgrade, we’ve worked with the team at codemod.com to publish codemods that will automatically update your code to many of the new APIs and patterns in React 19. All codemods are available in the react-codemod repo and the Codemod team have joined in helping maintain the codemods. To run these codemods, we recommend using the codemod command instead of the react-codemod because it runs faster, handles more complex code migrations, and provides better support for TypeScript. Note Run all React 19 codemods Run all codemods listed in this guide with the React 19 codemod recipe: npx codemod @ latest react / 19 / migration - recipe This will run the following codemods from react-codemod : replace-reactdom-render replace-string-ref replace-act-import replace-use-form-state prop-types-typescript This does not include the TypeScript changes. See TypeScript changes below. Changes that include a codemod include the command below. For a list of all available codemods, see the react-codemod repo . Breaking changes Errors in render are not re-thrown In previous versions of React, errors thrown during render were caught and rethrown. In DEV, we would also log to console.error , resulting in duplicate error logs. In React 19, we’ve improved how errors are handled to reduce duplication by not re-throwing: Uncaught Errors : Errors that are not caught by an Error Boundary are reported to window.reportError . Caught Errors : Errors that are caught by an Error Boundary are reported to console.error . This change should not impact most apps, but if your production error reporting relies on errors being re-thrown, you may need to update your error handling. To support this, we’ve added new methods to createRoot and hydrateRoot for custom error handling: const root = createRoot ( container , { onUncaughtError : ( error , errorInfo ) => { // ... log error report } , onCaughtError : ( error , errorInfo ) => { // ... log error report } } ) ; For more info, see the docs for createRoot and hydrateRoot . Removed deprecated React APIs Removed: propTypes and defaultProps for functions PropTypes were deprecated in April 2017 (v15.5.0) . In React 19, we’re removing the propType checks from the React package, and using them will be silently ignored. If you’re using propTypes , we recommend migrating to TypeScript or another type-checking solution. We’re also removing defaultProps from function components in place of ES6 default parameters. Class components will continue to support defaultProps since there is no ES6 alternative. // Before import PropTypes from &#x27;prop-types&#x27; ; function Heading ( { text } ) { return < h1 > { text } </ h1 > ; } Heading . propTypes = { text : PropTypes . string , } ; Heading . defaultProps = { text : &#x27;Hello, world!&#x27; , } ; // After interface Props { text ? : string ; } function Heading ( { text = &#x27;Hello, world!&#x27; } : Props ) { return < h1 > { text } </ h1 > ; } Note Codemod propTypes to TypeScript with: npx codemod @ latest react / prop - types - typescript Removed: Legacy Context using contextTypes and getChildContext Legacy Context was deprecated in October 2018 (v16.6.0) . Legacy Context was only available in class components using the APIs contextTypes and getChildContext , and was replaced with contextType due to subtle bugs that were easy to miss. In React 19, we’re removing Legacy Context to make React slightly smaller and faster. If you’re still using Legacy Context in class components, you’ll need to migrate to the new contextType API: // Before import PropTypes from &#x27;prop-types&#x27; ; class Parent extends React . Component { static childContextTypes = { foo : PropTypes . string . isRequired , } ; getChildContext ( ) { return { foo : &#x27;bar&#x27; } ; } render ( ) { return < Child /> ; } } class Child extends React . Component { static contextTypes = { foo : PropTypes . string . isRequired , } ; render ( ) { return < div > { this . context . foo } </ div > ; } } // After const FooContext = React . createContext ( ) ; class Parent extends React . Component { render ( ) { return ( < FooContext value = &#x27;bar&#x27; > < Child /> </ FooContext > ) ; } } class Child extends React . Component { static contextType = FooContext ; render ( ) { return < div > { this . context } </ div > ; } } Removed: string refs String refs were deprecated in March, 2018 (v16.3.0) . Class components supported string refs before being replaced by ref callbacks due to multiple downsides . In React 19, we’re removing string refs to make React simpler and easier to understand. If you’re still using string refs in class components, you’ll need to migrate to ref callbacks: // Before class MyComponent extends React . Component { componentDidMount ( ) { this . refs . input . focus ( ) ; } render ( ) { return < input ref = &#x27;input&#x27; /> ; } } // After class MyComponent extends React . Component { componentDidMount ( ) { this . input . focus ( ) ; } render ( ) { return < input ref = { input => this . input = input } /> ; } } Note Codemod string refs with ref callbacks: npx codemod @ latest react / 19 / replace - string - ref Removed: Module pattern factories Module pattern factories were deprecated in August 2019 (v16.9.0) . This pattern was rarely used and supporting it causes React to be slightly larger and slower than necessary. In React 19, we’re removing support for module pattern factories, and you’ll need to migrate to regular functions: // Before function FactoryComponent ( ) { return { render ( ) { return < div /> ; } } } // After function FactoryComponent ( ) { return < div /> ; } Removed: React.createFactory createFactory was deprecated in February 2020 (v16.13.0) . Using createFactory was common before broad support for JSX, but it’s rarely used today and can be replaced with JSX. In React 19, we’re removing createFactory and you’ll need to migrate to JSX: // Before import { createFactory } from &#x27;react&#x27; ; const button = createFactory ( &#x27;button&#x27; ) ; // After const button = < button /> ; Removed: react-test-renderer/shallow In React 18, we updated react-test-renderer/shallow to re-export react-shallow-renderer . In React 19, we’re removing react-test-render/shallow to prefer installing the package directly: npm install react - shallow - renderer -- save - dev - import ShallowRenderer from &#x27;react-test-renderer/shallow&#x27; ; + import ShallowRenderer from &#x27;react-shallow-renderer&#x27; ; Note Please reconsider shallow rendering Shallow rendering depends on React internals and can block you from future upgrades. We recommend migrating your tests to @testing-library/react or @testing-library/react-native . Removed deprecated React DOM APIs Removed: react-dom/test-utils We’ve moved act from react-dom/test-utils to the react package: Console ReactDOMTestUtils.act is deprecated in favor of React.act . Import act from react instead of react-dom/test-utils . See https://react.dev/warnings/react-dom-test-utils for more info. To fix this warning, you can import act from react : - import { act } from &#x27;react-dom/test-utils&#x27; + import { act } from &#x27;react&#x27; ; All other test-utils functions have been removed. These utilities were uncommon, and made it too easy to depend on low level implementation details of your components and React. In React 19, these functions will error when called and their exports will be removed in a future version. See the warning page for alternatives. Note Codemod ReactDOMTestUtils.act to React.act : npx codemod @ latest react / 19 / replace - act - import Removed: ReactDOM.render ReactDOM.render was deprecated in March 2022 (v18.0.0) . In React 19, we’re removing ReactDOM.render and you’ll need to migrate to using ReactDOM.createRoot : // Before import { render } from &#x27;react-dom&#x27; ; render ( < App /> , document . getElementById ( &#x27;root&#x27; ) ) ; // After import { createRoot } from &#x27;react-dom/client&#x27; ; const root = createRoot ( document . getElementById ( &#x27;root&#x27; ) ) ; root . render ( < App /> ) ; Note Codemod ReactDOM.render to ReactDOMClient.createRoot : npx codemod @ latest react / 19 / replace - reactdom - render Removed: ReactDOM.hydrate ReactDOM.hydrate was deprecated in March 2022 (v18.0.0) . In React 19, we’re removing ReactDOM.hydrate you’ll need to migrate to using ReactDOM.hydrateRoot , // Before import { hydrate } from &#x27;react-dom&#x27; ; hydrate ( < App /> , document . getElementById ( &#x27;root&#x27; ) ) ; // After import { hydrateRoot } from &#x27;react-dom/client&#x27; ; hydrateRoot ( document . getElementById ( &#x27;root&#x27; ) , < App /> ) ; Note Codemod ReactDOM.hydrate to ReactDOMClient.hydrateRoot : npx codemod @ latest react / 19 / replace - reactdom - render Removed: unmountComponentAtNode ReactDOM.unmountComponentAtNode was deprecated in March 2022 (v18.0.0) . In React 19, you’ll need to migrate to using root.unmount() . // Before unmountComponentAtNode ( document . getElementById ( &#x27;root&#x27; ) ) ; // After root . unmount ( ) ; For more see root.unmount() for createRoot and hydrateRoot . Note Codemod unmountComponentAtNode to root.unmount : npx codemod @ latest react / 19 / replace - reactdom - render Removed: ReactDOM.findDOMNode ReactDOM.findDOMNode was deprecated in October 2018 (v16.6.0) . We’re removing findDOMNode because it was a legacy escape hatch that was slow to execute, fragile to refactoring, only returned the first child, and broke abstraction levels (see more here ). You can replace ReactDOM.findDOMNode with DOM refs : // Before import { findDOMNode } from &#x27;react-dom&#x27; ; function AutoselectingInput ( ) { useEffect ( ( ) => { const input = findDOMNode ( this ) ; input . select ( ) } , [ ] ) ; return < input defaultValue = &quot;Hello&quot; /> ; } // After function AutoselectingInput ( ) { const ref = useRef ( null ) ; useEffect ( ( ) => { ref . current . select ( ) ; } , [ ] ) ; return < input ref = { ref } defaultValue = &quot;Hello&quot; /> } New deprecations Deprecated: element.ref React 19 supports ref as a prop , so we’re deprecating the element.ref in place of element.props.ref . Accessing element.ref will warn: Console Accessing element.ref is no longer supported. ref is now a regular prop. It will be removed from the JSX Element type in a future release. Deprecated: react-test-renderer We are deprecating react-test-renderer because it implements its own renderer environment that doesn’t match the environment users use, promotes testing implementation details, and relies on introspection of React’s internals. The test renderer was created before there were more viable testing strategies available like React Testing Library , and we now recommend using a modern testing library instead. In React 19, react-test-renderer logs a deprecation warning, and has switched to concurrent rendering. We recommend migrating your tests to @testing-library/react or @testing-library/react-native for a modern and well supported testing experience. Notable changes StrictMode changes React 19 includes several fixes and improvements to Strict Mode. When double rendering in Strict Mode in development, useMemo and useCallback will reuse the memoized results from the first render during the second render. Components that are already Strict Mode compatible should not notice a difference in behavior. As with all Strict Mode behaviors, these features are designed to proactively surface bugs in your components during development so you can fix them before they are shipped to production. For example, during development, Strict Mode will double-invoke ref callback functions on initial mount, to simulate what happens when a mounted component is replaced by a Suspense fallback. Improvements to Suspense In React 19, when a component suspends, React will immediately commit the fallback of the nearest Suspense boundary without waiting for the entire sibling tree to render. After the fallback commits, React schedules another render for the suspended siblings to “pre-warm” lazy requests in the rest of the tree: Previously, when a component suspended, the suspended siblings were rendered and then the fallback was committed. In React 19, when a component suspends, the fallback is committed and then the suspended siblings are rendered. This change means Suspense fallbacks display faster, while still warming lazy requests in the suspended tree. UMD builds removed UMD was widely used in the past as a convenient way to load React without a build step. Now, there are modern alternatives for loading modules as scripts in HTML documents. Starting with React 19, React will no longer produce UMD builds to reduce the complexity of its testing and release process. To load React 19 with a script tag, we recommend using an ESM-based CDN such as esm.sh . < script type = &quot;module&quot; > import React from &quot;https://esm.sh/react@19/?dev&quot; import ReactDOMClient from &quot;https://esm.sh/react-dom@19/client?dev&quot; ... </ script > Libraries depending on React internals may block upgrades This release includes changes to React internals that may impact libraries that ignore our pleas to not use internals like SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED . These changes are necessary to land improvements in React 19, and will not break libraries that follow our guidelines. Based on our Versioning Policy , these updates are not listed as breaking changes, and we are not including docs for how to upgrade them. The recommendation is to remove any code that depends on internals. To reflect the impact of using internals, we have renamed the SECRET_INTERNALS suffix to: _DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE In the future we will more aggressively block accessing internals from React to discourage usage and ensure users are not blocked from upgrading. TypeScript changes Removed deprecated TypeScript types We’ve cleaned up the TypeScript types based on the removed APIs in React 19. Some of the removed have types been moved to more relevant packages, and others are no longer needed to describe React’s behavior. Note We’ve published types-react-codemod to migrate most type related breaking changes: npx types - react - codemod @ latest preset - 19 ./ path - to - app If you have a lot of unsound access to element.props , you can run this additional codemod: npx types - react - codemod @ latest react - element - default - any - props ./ path - to - your - react - ts - files Check out types-react-codemod for a list of supported replacements. If you feel a codemod is missing, it can be tracked in the list of missing React 19 codemods . ref cleanups required This change is included in the react-19 codemod preset as no-implicit-ref-callback-return . Due to the introduction of ref cleanup functions, returning anything else from a ref callback will now be rejected by TypeScript. The fix is usually to stop using implicit returns: - < div ref = { current => ( instance = current ) } /> + < div ref = { current => { instance = current } } /> The original code returned the instance of the HTMLDivElement and TypeScript wouldn’t know if this was supposed to be a cleanup function or not. useRef requires an argument This change is included in the react-19 codemod preset as refobject-defaults . A long-time complaint of how TypeScript and React work has been useRef . We’ve changed the types so that useRef now requires an argument. This significantly simplifies its type signature. It’ll now behave more like createContext . // @ts-expect-error: Expected 1 argument but saw none useRef ( ) ; // Passes useRef ( undefined ) ; // @ts-expect-error: Expected 1 argument but saw none createContext ( ) ; // Passes createContext ( undefined ) ; This now also means that all refs are mutable. You’ll no longer hit the issue where you can’t mutate a ref because you initialised it with null : const ref = useRef < number > ( null ) ; // Cannot assign to &#x27;current&#x27; because it is a read-only property ref . current = 1 ; MutableRef is now deprecated in favor of a single RefObject type which useRef will always return: interface RefObject < T > { current : T } declare function useRef <T> : RefObject < T > useRef still has a convenience overload for useRef<T>(null) that automatically returns RefObject<T | null> . To ease migration due to the required argument for useRef , a convenience overload for useRef(undefined) was added that automatically returns RefObject<T | undefined> . Check out [RFC] Make all refs mutable for prior discussions about this change. Changes to the ReactElement TypeScript type This change is included in the react-element-default-any-props codemod. The props of React elements now default to unknown instead of any if the element is typed as ReactElement . This does not affect you if you pass a type argument to ReactElement : type Example2 = ReactElement < { id : string } > [ &quot;props&quot; ] ; // ^? { id: string } But if you relied on the default, you now have to handle unknown : type Example = ReactElement [ &quot;props&quot; ] ; // ^? Before, was &#x27;any&#x27;, now &#x27;unknown&#x27; You should only need it if you have a lot of legacy code relying on unsound access of element props. Element introspection only exists as an escape hatch, and you should make it explicit that your props access is unsound via an explicit any . The JSX namespace in TypeScript This change is included in the react-19 codemod preset as scoped-jsx A long-time request is to remove the global JSX namespace from our types in favor of React.JSX . This helps prevent pollution of global types which prevents conflicts between different UI libraries that leverage JSX. You’ll now need to wrap module augmentation of the JSX namespace in `declare module ”…”: // global.d.ts + declare module &quot;react&quot; { namespace JSX { interface IntrinsicElements { &quot;my-element&quot; : { myElementProps : string ; } ; } } + } The exact module specifier depends on the JSX runtime you specified in the compilerOptions of your tsconfig.json : For &quot;jsx&quot;: &quot;react-jsx&quot; it would be react/jsx-runtime . For &quot;jsx&quot;: &quot;react-jsxdev&quot; it would be react/jsx-dev-runtime . For &quot;jsx&quot;: &quot;react&quot; and &quot;jsx&quot;: &quot;preserve&quot; it would be react . Better useReducer typings useReducer now has improved type inference thanks to @mfp22 . However, this required a breaking change where useReducer doesn’t accept the full reducer type as a type parameter but instead either needs none (and rely on contextual typing) or needs both the state and action type. The new best practice is not to pass type arguments to useReducer . - useReducer < React . Reducer < State , Action >> ( reducer ) + useReducer ( reducer ) This may not work in edge cases where you can explicitly type the state and action, by passing in the Action in a tuple: - useReducer < React . Reducer < State , Action >> ( reducer ) + useReducer < State , [ Action ] > ( reducer ) If you define the reducer inline, we encourage to annotate the function parameters instead: - useReducer < React . Reducer < State , Action >> ( ( state , action ) => state ) + useReducer ( ( state : State , action : Action ) => state ) This is also what you’d also have to do if you move the reducer outside of the useReducer call: const reducer = ( state : State , action : Action ) => state ; Changelog Other breaking changes react-dom : Error for javascript URLs in src and href #26507 react-dom : Remove errorInfo.digest from onRecoverableError #28222 react-dom : Remove unstable_flushControlled #26397 react-dom : Remove unstable_createEventHandle #28271 react-dom : Remove unstable_renderSubtreeIntoContainer #28271 react-dom : Remove unstable_runWithPriority #28271 react-is : Remove deprecated methods from react-is 28224 Other notable changes react : Batch sync, default and continuous lanes #25700 react : Don’t prerender siblings of suspended component #26380 react : Detect infinite update loops caused by render phase updates #26625 react-dom : Transitions in popstate are now synchronous #26025 react-dom : Remove layout effect warning during SSR #26395 react-dom : Warn and don’t set empty string for src/href (except anchor tags) #28124 For a full list of changes, please see the Changelog . Thanks to Andrew Clark , Eli White , Jack Pope , Jan Kassens , Josh Story , Matt Carroll , Noah Lemen , Sophie Alpert , and Sebastian Silbermann for reviewing and editing this post. Previous React 19 RC Next React Labs: What We&#x27;ve Been Working On – February 2024 Copyright © Meta Platforms, Inc no uwu plz uwu? Logo by @sawaratsuki1004 Learn React Quick Start Installation Describing the UI Adding Interactivity Managing State Escape Hatches API Reference React APIs React DOM APIs Community Code of Conduct Meet the Team Docs Contributors Acknowledgements More Blog React Native Privacy Terms

---

## React Router v7 changelog

Source: https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#v700

Status: 200

Content-Type: text/html; charset=utf-8

react-router/CHANGELOG.md at main · remix-run/react-router · GitHub Skip to content Navigation Menu Toggle navigation Sign in Appearance settings Platform AI CODE CREATION GitHub Copilot Write better code with AI GitHub Spark Build and deploy intelligent apps GitHub Models Manage and compare prompts MCP Registry New Integrate external tools DEVELOPER WORKFLOWS Actions Automate any workflow Codespaces Instant dev environments Issues Plan and track work Code Review Manage code changes APPLICATION SECURITY GitHub Advanced Security Find and fix vulnerabilities Code security Secure your code as you build Secret protection Stop leaks before they start EXPLORE Why GitHub Documentation Blog Changelog Marketplace View all features Solutions BY COMPANY SIZE Enterprises Small and medium teams Startups Nonprofits BY USE CASE App Modernization DevSecOps DevOps CI/CD View all use cases BY INDUSTRY Healthcare Financial services Manufacturing Government View all industries View all solutions Resources EXPLORE BY TOPIC AI Software Development DevOps Security View all topics EXPLORE BY TYPE Customer stories Events & webinars Ebooks & reports Business insights GitHub Skills SUPPORT & SERVICES Documentation Customer support Community forum Trust center Partners Open Source COMMUNITY GitHub Sponsors Fund open source developers PROGRAMS Security Lab Maintainer Community Accelerator Archive Program REPOSITORIES Topics Trending Collections Enterprise ENTERPRISE SOLUTIONS Enterprise platform AI-powered developer platform AVAILABLE ADD-ONS GitHub Advanced Security Enterprise-grade security features Copilot for Business Enterprise-grade AI features Premium Support Enterprise-grade 24/7 support Pricing Search or jump to... Search code, repositories, users, issues, pull requests... --> Search Clear Search syntax tips Provide feedback --> We read every piece of feedback, and take your input very seriously. Include my email address so I can be contacted Cancel Submit feedback Saved searches Use saved searches to filter your results more quickly --> Name Query To see all available qualifiers, see our documentation . Cancel Create saved search Sign in Sign up Appearance settings Resetting focus You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert {{ message }} remix-run / react-router Public Uh oh! There was an error while loading. Please reload this page . Notifications You must be signed in to change notification settings Fork 10.8k Star 56.2k Code Issues 111 Pull requests 33 Discussions Actions Security 9 Insights Additional navigation options Code Issues Pull requests Discussions Actions Security Insights Footer &copy; 2026 GitHub, Inc. Footer navigation Terms Privacy Security Status Community Docs Contact Manage cookies Do not share my personal information You can’t perform that action at this time.

---

## Zod v4 changelog

Source: https://zod.dev/v4/changelog

Status: 200

Content-Type: text/html; charset=utf-8

Migration guide | Zod 💎 Zod 4 is now stable! Read the announcement. Zod 4 The latest version of Zod Search ⌘ K Zod 4 Release notes Migration guide Documentation Intro Basic usage Defining schemas Customizing errors Formatting errors Metadata and registries New JSON Schema New Codecs New Ecosystem For library authors Packages Zod Zod Mini New Zod Core New github logo On this page Migration guide Copy markdown Edit this page This migration guide aims to list the breaking changes in Zod 4 in order of highest to lowest impact. To learn more about the performance enhancements and new features of Zod 4, read the introductory post . npm install zod@^4.0.0 Many of Zod&#x27;s behaviors and APIs have been made more intuitive and cohesive. The breaking changes described in this document often represent major quality-of-life improvements for Zod users. I strongly recommend reading this guide thoroughly. Note — Zod 3 exported a number of undocumented quasi-internal utility types and functions that are not considered part of the public API. Changes to those are not documented here. Unofficial codemod — A community-maintained codemod zod-v3-to-v4 is available. Error customization Zod 4 standardizes the APIs for error customization under a single, unified error param. Previously Zod&#x27;s error customization APIs were fragmented and inconsistent. This is cleaned up in Zod 4. deprecates message parameter Replaces message param with error . The old message parameter is still supported but deprecated. Zod 4 Zod 3 z. string (). min ( 5 , { error: &quot;Too short.&quot; }); drops invalid_type_error and required_error The invalid_type_error / required_error params have been dropped. These were hastily added years ago as a way to customize errors that was less verbose than errorMap . They came with all sorts of footguns (they can&#x27;t be used in conjunction with errorMap ) and do not align with Zod&#x27;s actual issue codes (there is no required issue code). These can now be cleanly represented with the new error parameter. Zod 4 Zod 3 z. string ({ error : ( issue ) => issue.input === undefined ? &quot;This field is required&quot; : &quot;Not a string&quot; }); drops errorMap This is renamed to error . Error maps can also now return a plain string (instead of {message: string} ). They can also return undefined , which tells Zod to yield control to the next error map in the chain. Zod 4 Zod 3 z. string (). min ( 5 , { error : ( issue ) => { if (issue.code === &quot;too_small&quot; ) { return `Value must be >${ issue . minimum }` } }, }); ZodError updates issue formats The issue formats have been dramatically streamlined. import * as z from &quot;zod&quot; ; // v4 type IssueFormats = | z . core . $ZodIssueInvalidType | z . core . $ZodIssueTooBig | z . core . $ZodIssueTooSmall | z . core . $ZodIssueInvalidStringFormat | z . core . $ZodIssueNotMultipleOf | z . core . $ZodIssueUnrecognizedKeys | z . core . $ZodIssueInvalidValue | z . core . $ZodIssueInvalidUnion | z . core . $ZodIssueInvalidKey // new: used for z.record/z.map | z . core . $ZodIssueInvalidElement // new: used for z.map/z.set | z . core . $ZodIssueCustom ; Below is the list of Zod 3 issues types and their Zod 4 equivalent: import * as z from &quot;zod&quot; ; // v3 export type IssueFormats = | z . ZodInvalidTypeIssue // ♻️ renamed to z.core.$ZodIssueInvalidType | z . ZodTooBigIssue // ♻️ renamed to z.core.$ZodIssueTooBig | z . ZodTooSmallIssue // ♻️ renamed to z.core.$ZodIssueTooSmall | z . ZodInvalidStringIssue // ♻️ z.core.$ZodIssueInvalidStringFormat | z . ZodNotMultipleOfIssue // ♻️ renamed to z.core.$ZodIssueNotMultipleOf | z . ZodUnrecognizedKeysIssue // ♻️ renamed to z.core.$ZodIssueUnrecognizedKeys | z . ZodInvalidUnionIssue // ♻️ renamed to z.core.$ZodIssueInvalidUnion | z . ZodCustomIssue // ♻️ renamed to z.core.$ZodIssueCustom | z . ZodInvalidEnumValueIssue // ❌ merged in z.core.$ZodIssueInvalidValue | z . ZodInvalidLiteralIssue // ❌ merged into z.core.$ZodIssueInvalidValue | z . ZodInvalidUnionDiscriminatorIssue // ❌ throws an Error at schema creation time | z . ZodInvalidArgumentsIssue // ❌ z.function throws ZodError directly | z . ZodInvalidReturnTypeIssue // ❌ z.function throws ZodError directly | z . ZodInvalidDateIssue // ❌ merged into invalid_type | z . ZodInvalidIntersectionTypesIssue // ❌ removed (throws regular Error) | z . ZodNotFiniteIssue // ❌ infinite values no longer accepted (invalid_type) While certain Zod 4 issue types have been merged, dropped, and modified, each issue remains structurally similar to Zod 3 counterpart (identical, in most cases). All issues still conform to the same base interface as Zod 3, so most common error handling logic will work without modification. export interface $ZodIssueBase { readonly code ?: string ; readonly input ?: unknown ; readonly path : PropertyKey []; readonly message : string ; } changes error map precedence The error map precedence has been changed to be more consistent. Specifically, an error map passed into .parse() no longer takes precedence over a schema-level error map. const mySchema = z. string ({ error : () => &quot;Schema-level error&quot; }); // in Zod 3 mySchema. parse ( 12 , { error : () => &quot;Contextual error&quot; }); // => &quot;Contextual error&quot; // in Zod 4 mySchema. parse ( 12 , { error : () => &quot;Contextual error&quot; }); // => &quot;Schema-level error&quot; deprecates .format() The .format() method on ZodError has been deprecated. Instead use the top-level z.treeifyError() function. Read the Formatting errors docs for more information. deprecates .flatten() The .flatten() method on ZodError has also been deprecated. Instead use the top-level z.treeifyError() function. Read the Formatting errors docs for more information. drops .formErrors This API was identical to .flatten() . It exists for historical reasons and isn&#x27;t documented. deprecates .addIssue() and .addIssues() Directly push to err.issues array instead, if necessary. myError.issues. push ({ // new issue }); z.number() no infinite values POSITIVE_INFINITY and NEGATIVE_INFINITY are no longer considered valid values for z.number() . .safe() no longer accepts floats In Zod 3, z.number().safe() is deprecated. It now behaves identically to .int() (see below). Importantly, that means it no longer accepts floats. .int() accepts safe integers only The z.number().int() API no longer accepts unsafe integers (outside the range of Number.MIN_SAFE_INTEGER and Number.MAX_SAFE_INTEGER ). Using integers out of this range causes spontaneous rounding errors. (Also: You should switch to z.int() .) z.string() updates deprecates .email() etc String formats are now represented as subclasses of ZodString , instead of simple internal refinements. As such, these APIs have been moved to the top-level z namespace. Top-level APIs are also less verbose and more tree-shakable. z. email (); z. uuid (); z. url (); z. emoji (); // validates a single emoji character z. base64 (); z. base64url (); z. nanoid (); z. cuid (); z. cuid2 (); z. ulid (); z. ipv4 (); z. ipv6 (); z. cidrv4 (); // ip range z. cidrv6 (); // ip range z.iso. date (); z.iso. time (); z.iso. datetime (); z.iso. duration (); The method forms ( z.string().email() ) still exist and work as before, but are now deprecated. z. string (). email (); // ❌ deprecated z. email (); // ✅ stricter .uuid() The z.uuid() now validates UUIDs more strictly against the RFC 9562/4122 specification; specifically, the variant bits must be 10 per the spec. For a more permissive &quot;UUID-like&quot; validator, use z.guid() . z. uuid (); // RFC 9562/4122 compliant UUID z. guid (); // any 8-4-4-4-12 hex pattern no padding in .base64url() Padding is no longer allowed in z.base64url() (formerly z.string().base64url() ). Generally it&#x27;s desirable for base64url strings to be unpadded and URL-safe. drops z.string().ip() This has been replaced with separate .ipv4() and .ipv6() methods. Use z.union() to combine them if you need to accept both. z. string (). ip () // ❌ z. ipv4 () // ✅ z. ipv6 () // ✅ updates z.string().ipv6() Validation now happens using the new URL() constructor, which is far more robust than the old regular expression approach. Some invalid values that passed validation previously may now fail. drops z.string().cidr() Similarly, this has been replaced with separate .cidrv4() and .cidrv6() methods. Use z.union() to combine them if you need to accept both. z. string (). cidr () // ❌ z. cidrv4 () // ✅ z. cidrv6 () // ✅ z.coerce updates The input type of all z.coerce schemas is now unknown . const schema = z.coerce. string (); type schemaInput = z . input < typeof schema>; // Zod 3: string; // Zod 4: unknown; .default() updates The application of .default() has changed in a subtle way. If the input is undefined , ZodDefault short-circuits the parsing process and returns the default value. The default value must be assignable to the output type . const schema = z. string () . transform ( val => val. length ) . default ( 0 ); // should be a number schema. parse ( undefined ); // => 0 In Zod 3, .default() expected a value that matched the input type . ZodDefault would parse the default value, instead of short-circuiting. As such, the default value must be assignable to the input type of the schema. // Zod 3 const schema = z. string () . transform ( val => val. length ) . default ( &quot;tuna&quot; ); schema. parse ( undefined ); // => 4 To replicate the old behavior, Zod implements a new .prefault() API. This is short for &quot;pre-parse default&quot;. // Zod 3 const schema = z. string () . transform ( val => val. length ) . prefault ( &quot;tuna&quot; ); schema. parse ( undefined ); // => 4 z.object() defaults applied within optional fields Defaults inside your properties are applied, even within optional fields. This aligns better with expectations and resolves a long-standing usability issue with Zod 3. This is a subtle change that may cause breakage in code paths that rely on key existence, etc. const schema = z. object ({ a: z. string (). default ( &quot;tuna&quot; ). optional (), }); schema. parse ({}); // Zod 4: { a: &quot;tuna&quot; } // Zod 3: {} deprecates .strict() and .passthrough() These methods are generally no longer necessary. Instead use the top-level z.strictObject() and z.looseObject() functions. // Zod 3 z. object ({ name: z. string () }). strict (); z. object ({ name: z. string () }). passthrough (); // Zod 4 z. strictObject ({ name: z. string () }); z. looseObject ({ name: z. string () }); These methods are still available for backwards compatibility, and they will not be removed. They are considered legacy. deprecates .strip() This was never particularly useful, as it was the default behavior of z.object() . To convert a strict object to a &quot;regular&quot; one, use z.object(A.shape) . drops .nonstrict() This long-deprecated alias for .strip() has been removed. drops .deepPartial() This has been long deprecated in Zod 3 and it now removed in Zod 4. There is no direct alternative to this API. There were lots of footguns in its implementation, and its use is generally an anti-pattern. changes z.unknown() optionality The z.unknown() and z.any() types are no longer marked as &quot;key optional&quot; in the inferred types. const mySchema = z. object ({ a: z. any (), b: z. unknown () }); // Zod 3: { a?: any; b?: unknown }; // Zod 4: { a: any; b: unknown }; deprecates .merge() The .merge() method on ZodObject has been deprecated in favor of .extend() . The .extend() method provides the same functionality, avoids ambiguity around strictness inheritance, and has better TypeScript performance. // .merge (deprecated) const ExtendedSchema = BaseSchema. merge (AdditionalSchema); // .extend (recommended) const ExtendedSchema = BaseSchema. extend (AdditionalSchema.shape); // or use destructuring (best tsc performance) const ExtendedSchema = z. object ({ ... BaseSchema.shape, ... AdditionalSchema.shape, }); Note : For even better TypeScript performance, consider using object destructuring instead of .extend() . See the API documentation for more details. z.nativeEnum() deprecated The z.nativeEnum() function is now deprecated in favor of just z.enum() . The z.enum() API has been overloaded to support an enum-like input. enum Color { Red = &quot;red&quot; , Green = &quot;green&quot; , Blue = &quot;blue&quot; , } const ColorSchema = z. enum (Color); // ✅ As part of this refactor of ZodEnum , a number of long-deprecated and redundant features have been removed. These were all identical and only existed for historical reasons. ColorSchema.enum.Red; // ✅ => &quot;Red&quot; (canonical API) ColorSchema.Enum.Red; // ❌ removed ColorSchema.Values.Red; // ❌ removed z.array() changes .nonempty() type This now behaves identically to z.array().min(1) . The inferred type does not change. const NonEmpty = z. array (z. string ()). nonempty (); type NonEmpty = z . infer < typeof NonEmpty>; // Zod 3: [string, ...string[]] // Zod 4: string[] The old behavior is now better represented with z.tuple() and a &quot;rest&quot; argument. This aligns more closely to TypeScript&#x27;s type system. z. tuple ([z. string ()], z. string ()); // => [string, ...string[]] z.promise() deprecated There&#x27;s rarely a reason to use z.promise() . If you have an input that may be a Promise , just await it before parsing it with Zod. If you are using z.promise to define an async function with z.function() , that&#x27;s no longer necessary either; see the ZodFunction section below. z.function() The result of z.function() is no longer a Zod schema. Instead, it acts as a standalone &quot;function factory&quot; for defining Zod-validated functions. The API has also changed; you define an input and output schema upfront, instead of using args() and .returns() methods. Zod 4 Zod 3 const myFunction = z. function ({ input: [z. object ({ name: z. string (), age: z. number (). int (), })], output: z. string (), }); myFunction. implement (( input ) => { return `Hello ${ input . name }, you are ${ input . age } years old.` ; }); If you have a desperate need for a Zod schema with a function type, consider this workaround . adds .implementAsync() To define an async function, use implementAsync() instead of implement() . myFunction. implementAsync ( async ( input ) => { return `Hello ${ input . name }, you are ${ input . age } years old.` ; }); .refine() ignores type predicates In Zod 3, passing a type predicate as a refinement functions could still narrow the type of a schema. This wasn&#x27;t documented but was discussed in some issues. This is no longer the case. const mySchema = z. unknown (). refine (( val ) : val is string => { return typeof val === &quot;string&quot; }); type MySchema = z . infer < typeof mySchema>; // Zod 3: `string` // Zod 4: still `unknown` drops ctx.path Zod&#x27;s new parsing architecture does not eagerly evaluate the path array. This was a necessary change that unlocks Zod 4&#x27;s dramatic performance improvements. z. string (). superRefine (( val , ctx ) => { ctx.path; // ❌ no longer available }); drops function as second argument The following horrifying overload has been removed. const longString = z. string (). refine ( ( val ) => val. length > 10 , ( val ) => ({ message: `${ val } is not more than 10 characters` }) ); z.ostring() , etc dropped The undocumented convenience methods z.ostring() , z.onumber() , etc. have been removed. These were shorthand methods for defining optional string schemas. z.literal() drops symbol support Symbols aren&#x27;t considered literal values, nor can they be simply compared with === . This was an oversight in Zod 3. static .create() factories dropped Previously all Zod classes defined a static .create() method. These are now implemented as standalone factory functions. z.ZodString. create (); // ❌ z.record() drops single argument usage Before, z.record() could be used with a single argument. This is no longer supported. // Zod 3 z. record (z. string ()); // ✅ // Zod 4 z. record (z. string ()); // ❌ z. record (z. string (), z. string ()); // ✅ improves enum support Records have gotten a lot smarter. In Zod 3, passing an enum into z.record() as a key schema would result in a partial type const myRecord = z. record (z. enum ([ &quot;a&quot; , &quot;b&quot; , &quot;c&quot; ]), z. number ()); // { a?: number; b?: number; c?: number; } In Zod 4, this is no longer the case. The inferred type is what you&#x27;d expect, and Zod ensures exhaustiveness; that is, it makes sure all enum keys exist in the input during parsing. const myRecord = z. record (z. enum ([ &quot;a&quot; , &quot;b&quot; , &quot;c&quot; ]), z. number ()); // { a: number; b: number; c: number; } To replicate the old behavior with optional keys, use z.partialRecord() : const myRecord = z. partialRecord (z. enum ([ &quot;a&quot; , &quot;b&quot; , &quot;c&quot; ]), z. number ()); // { a?: number; b?: number; c?: number; } z.intersection() throws Error on merge conflict Zod intersection parses the input against two schemas, then attempts to merge the results. In Zod 3, when the results were unmergable, Zod threw a ZodError with a special &quot;invalid_intersection_types&quot; issue. In Zod 4, this will throw a regular Error instead. The existence of unmergable results indicates a structural problem with the schema: an intersection of two incompatible types. Thus, a regular error is more appropriate than a validation error. Internal changes The typical user of Zod can likely ignore everything below this line. These changes do not impact the user-facing z APIs. There are too many internal changes to list here, but some may be relevant to regular users who are (intentionally or not) relying on certain implementation details. These changes will be of particular interest to library authors building tools on top of Zod. updates generics The generic structure of several classes has changed. Perhaps most significant is the change to the ZodType base class: // Zod 3 class ZodType < Output , Def extends z . ZodTypeDef , Input = Output > { // ... } // Zod 4 class ZodType < Output = unknown , Input = unknown > { // ... } The second generic Def has been entirely removed. Instead the base class now only tracks Output and Input . While previously the Input value defaulted to Output , it now defaults to unknown . This allows generic functions involving z.ZodType to behave more intuitively in many cases. function inferSchema < T extends z . ZodType >( schema : T ) : T { return schema; }; inferSchema (z. string ()); // z.ZodString The need for z.ZodTypeAny has been eliminated; just use z.ZodType instead. adds z.core Many utility functions and types have been moved to the new zod/v4/core sub-package, to facilitate code sharing between Zod and Zod Mini. import * as z from &quot;zod/v4/core&quot; ; function handleError ( iss : z . $ZodError ) { // do stuff } For convenience, the contents of zod/v4/core are also re-exported from zod and zod/mini under the z.core namespace. import * as z from &quot;zod&quot; ; function handleError ( iss : z . core . $ZodError ) { // do stuff } Refer to the Zod Core docs for more information on the contents of the core sub-library. moves ._def The ._def property is now moved to ._zod.def . The structure of all internal defs is subject to change; this is relevant to library authors but won&#x27;t be comprehensively documented here. drops ZodEffects This doesn&#x27;t affect the user-facing APIs, but it&#x27;s an internal change worth highlighting. It&#x27;s part of a larger restructure of how Zod handles refinements . Previously both refinements and transformations lived inside a wrapper class called ZodEffects . That means adding either one to a schema would wrap the original schema in a ZodEffects instance. In Zod 4, refinements now live inside the schemas themselves. More accurately, each schema contains an array of &quot;checks&quot;; the concept of a &quot;check&quot; is new in Zod 4 and generalizes the concept of a refinement to include potentially side-effectful transforms like z.toLowerCase() . This is particularly apparent in the Zod Mini API, which heavily relies on the .check() method to compose various validations together. import * as z from &quot;zod/mini&quot; ; z. string (). check ( z. minLength ( 10 ), z. maxLength ( 100 ), z. toLowerCase (), z. trim (), ); adds ZodTransform Meanwhile, transforms have been moved into a dedicated ZodTransform class. This schema class represents an input transform; in fact, you can actually define standalone transformations now: import * as z from &quot;zod&quot; ; const schema = z. transform ( input => String (input)); schema. parse ( 12 ); // => &quot;12&quot; This is primarily used in conjunction with ZodPipe . The .transform() method now returns an instance of ZodPipe . z. string (). transform ( val => val); // ZodPipe<ZodString, ZodTransform> drops ZodPreprocess As with .transform() , the z.preprocess() function now returns a ZodPipe instance instead of a dedicated ZodPreprocess instance. z. preprocess ( val => val, z. string ()); // ZodPipe<ZodTransform, ZodString> drops ZodBranded Branding is now handled with a direct modification to the inferred type, instead of a dedicated ZodBranded class. The user-facing APIs remain the same. Release notes Zod 4 release notes and new features including performance improvements and breaking changes Intro Introduction to Zod - TypeScript-first schema validation library with static type inference On this page Error customization deprecates message parameter drops invalid_type_error and required_error drops errorMap ZodError updates issue formats changes error map precedence deprecates .format() deprecates .flatten() drops .formErrors deprecates .addIssue() and .addIssues() z.number() no infinite values .safe() no longer accepts floats .int() accepts safe integers only z.string() updates deprecates .email() etc stricter .uuid() no padding in .base64url() drops z.string().ip() updates z.string().ipv6() drops z.string().cidr() z.coerce updates .default() updates z.object() defaults applied within optional fields deprecates .strict() and .passthrough() deprecates .strip() drops .nonstrict() drops .deepPartial() changes z.unknown() optionality deprecates .merge() z.nativeEnum() deprecated z.array() changes .nonempty() type z.promise() deprecated z.function() adds .implementAsync() .refine() ignores type predicates drops ctx.path drops function as second argument z.ostring() , etc dropped z.literal() drops symbol support static .create() factories dropped z.record() drops single argument usage improves enum support z.intersection() throws Error on merge conflict Internal changes updates generics adds z.core moves ._def drops ZodEffects adds ZodTransform drops ZodPreprocess drops ZodBranded

---

## date-fns v4 changelog

Source: https://date-fns.org/v4.0.0/docs/Change-Log#v4.0.0-2024-09-16

Status: 200

Content-Type: text/html; charset=utf-8

date-fns - modern JavaScript date utility library

---

## i18next migration guide

Source: https://www.i18next.com/misc/migration-guide

Status: 200

Content-Type: text/html; charset=utf-8

Migration Guide | i18next documentation bars i18next documentation search circle-xmark ⌘ Ctrl k 🏠 i18next 🌐 localization as a service 🎓 i18next crash course 💾 GitHub Repository More ellipsis chevron-down i18next documentation Introduction Overview Getting started Comparison to others API Configuration Options Supported Frameworks Plugins and Utils For Enterprises First setup help TypeScript Translation Function Essentials Interpolation Formatting Plurals Nesting Context Objects and Arrays Principles Best Practices Translation Resolution Namespaces Fallback Plugins How to Add or Load Translations Extracting translations Caching Backend Fallback FAQ Misc JSON Format Creating own Plugins Migration Guide The history of i18next Testimonials 🌐 localization as a service arrow-up-right 🎓 i18next crash course arrow-up-right 💾 GitHub Repository arrow-up-right chevron-up chevron-down gitbook Powered by GitBook xmark block-quote On this page chevron-down copy Copy chevron-down Misc Migration Guide hashtag v25.3.x to v25.4.0 add new selector API to improve TypeScript IDE performance 2322 arrow-up-right To enable it, set enableSelector: true in your configuration options With enableSelector: &quot;optimize&quot; , i18next can now handle translation dictionaries of any size, without affecting IDE performance or build times To assist with the migration, we&#x27;ve published the following packages: @i18next-selector/codemod arrow-up-right @i18next-selector/vite-plugin arrow-up-right hashtag v24.x.x to v25.0.0 This is a potentially breaking release: fix multiple changeLanguage call that may have result in wrong order in previous versions 1605 arrow-up-right 2298 arrow-up-right adapt changeLanguage to always (string or array) use getBestMatchFromCodes 2299 arrow-up-right getBestMatchFromCodes now tries to fallback to language code with same script 2299 arrow-up-right hashtag v23.x.x to v24.0.0 remove support for older environments remove old i18next JSON formats to convert your existing v3 translations to the v4 format, have a look at i18next-v4-format-converter arrow-up-right or this web tool arrow-up-right . remove support for compatibility to the very first v1 API arrow-up-right ( old docs arrow-up-right ) Intl API arrow-up-right is mandatory now and will not fallback anymore, use a polyfill ( Intl.PluralRules arrow-up-right and Intl.getCanonicalLocales arrow-up-right ) if your environment does not support it. for those who really need the old behaviour, needs to create a compatibility layer similar to this arrow-up-right . renamed initImmediate to initAsync fallback to dev language if plural rule not found Dropped support for Node.js < v14 hashtag TypeScript Now only typescript >5 versions are supported. v4 types are now removed from the codebase. jsonFormat option has been removed. When a new json version will be released you can can use compatibilityJSON option. which now only accepts v4 as value. hashtag v22.x.x to v23.0.0 hashtag Redesigned TypeScript types This PR arrow-up-right redesigned the types to be less complex, faster and easier to maintain.\ The redesign endeavors to enhance the approach to parsing and inferring keys for the t function. Instead of performing a recursive examination of each key-value pair in resources associated with specific namespace(s) each time the t function is invoked, we generate a comprehensive set of keys from all namespaces just once. Make sure your tsconfig compilerOptions has the strict arrow-up-right flag or the strictNullChecks arrow-up-right set to true . Also use TypeScript v5. hashtag Codemods To assist with the upgrade from i18n v22.x.x to v23.0.0 , Codemod arrow-up-right provides open-source codemods that automatically transform your code to many of the new APIs and patterns. These following codemods are available (see the notes in the &quot;More information&quot; section below): i18next/23/add-namespace-type-annotation arrow-up-right i18next/23/remove-options arrow-up-right i18next/23/replace-keys arrow-up-right chevron-right More information: Features and Breaking changes hashtag Features When loading multiple namespaces ( react-i18next arrow-up-right ), t function will infer and accept the keys for the first namespace. So this pattern will be accepted now: arrow-up-right t function will now infer and accept the keys for the main namespace (i18next): arrow-up-right We&#x27;re introducing a new type ( returnObjects ) that will infer fewer keys if set to false , and all keys and sub-keys if set to true . If the option returnObjects from t function is set to true , it&#x27;ll work the same way: arrow-up-right arrow-up-right arrow-up-right t function will now infer interpolation values, but it&#x27;ll only work if the translation files (resources) are placed in a ts file and using as const (like this arrow-up-right ) or an interface in a d.ts file arrow-up-right (can be generated like this arrow-up-right ) , JSON files don&#x27;t support as const to convert objects to be type literals (yet). Breaking changes All breaking changes described below are minor ones: Projects with the option returnObjects set as true by default will also have to set the same option in the CustomTypeOptions type. Otherwise, only complete keys will be allowed ( key1.key2.key3... ). Renaming StringMap to $Dictionary , and we&#x27;ll no longer export it. $Dictionary is an internal helper, and there is no reason to expose it. If needed, you can create a copy and reuse it in your project. ns property from InterpolationOptions type will be constrained to Namespace rather than string or readonly string[] . Codemod for this Change: Renaming KeysWithSeparator type to JoinKeys , and it will no longer be exposed. Codemod for this Change: Renaming TFuncKey type to ParseKeys . Removing NormalizeByTypeOptions type. Renaming DefaultTFuncReturnWithObject type to DefaultTReturn . It will accept TOptions as generic constraint and will no longer be exposed. Codemod for this Change: Removing DefaultTFuncReturn type in favor of DefaultTReturn . Removing NormalizeReturn type. circle-info If you encounter any issues, please report them to the Codemod team with npx codemod feedback hashtag Removed setDebug function in internal logger Based on this discussion arrow-up-right we decided to remove the setDebug function. hashtag Changed default value for returnNull option to false To improve the usage for TypeScript users (in combination with React.js) we decided to set the returnNull value to false by default. More information can be found here arrow-up-right . hashtag Dropped support for old browsers and Node.js < v12 To have smaller builds and faster loads, we now transpile only for modern browsers and runtimes. More information can be found here arrow-up-right . hashtag Prefixed ordinal plural keys To help translators, ordinal plural keys are now prefixed with _ordinal . hashtag v21.x.x to v22.0.0 Since this is a major rewrite for TypeScript usage we decided to create a major version. For JavaScript users v22.0.0 is equivalent to 21.10.0 hashtag v20.x.x to v21.0.0 hashtag json format v4 - pluralization One of the biggest breaking changes is regarding suffixing plurals. This change streamlines the suffix with the one used in the Intl API arrow-up-right . You may need to polyfill arrow-up-right the Intl.PluralRules arrow-up-right API, in case it is not available it will fallback to the i18next JSON format v3 plural handling. To enforce old behaviour you can enable compatibilityJSON = &#x27;v3&#x27; on i18next init call. There is also support for ordinal numbers (referring to the ordering or ranking of things, e.g. &quot;1st&quot;, &quot;2nd&quot;, &quot;3rd&quot; in English) . Learn more about plurals: https://www.i18next.com/translation-function/plurals arrow-up-right To convert your existing translations to the new v4 format, have a look at i18next-v4-format-converter arrow-up-right or this web tool arrow-up-right . (It will only handle keys with the default pluralSeparator _ ) hashtag skipOnVariables = true By default the skipOnVariables option now is set to true. To enforce old behaviour you can set skipOnVariables = false on i18next init call. hashtag natural language detection i18next now automatically tries to detect natural language keys. This way there is no need to set nsSeparator or keySeparator option to false . &#xNAN; In case you want to skip this natural language detection, provide a keySeparator and/or a nsSeparator option. hashtag removed deprecated The old deprecated whitelist options arrow-up-right and functions have been definitively removed. rename option whitelist to supportedLngs rename option nonExplicitWhitelist to nonExplicitSupportedLngs rename function languageUtils.isWhitelisted to languageUtils.isSupportedCode hashtag new resolvedLanguage There is a new i18next.resolvedLanguage property, that represents the current resolved language. It can be used as primary used language, for example in a language switcher. hashtag defaultNS If passing the ns option, the defaultNS will, by default, be set to the first ns passed. hashtag v19.x.x to v20.0.0 There should not be any breaking change, but regarding of some misuse of i18next that pop up in last minor releases, we opted for a major version this time. The relevant change behind the scene for this major version was ignoreJSONStructure arrow-up-right . hashtag v18.x.x to v19.0.0 Typescript use export default for esm-first approach 1352 arrow-up-right . No API changes. hashtag v17.x.x to v18.0.0 When calling i18next.changeLanguage() both i18next.language and i18next.languages will be set to the new language after calling loadResources -> means when accessing t function meanwhile you will get still the translations for the previous language instead of the fallback. When is this breaking? this does not break any current test - but if you depend on accessing i18next.language or i18next.dir during language change and expect the new language this will break your app. Reasoning: In react-i18next we get in a not ready state for loaded translations while we would prefer just waiting for the new language ready and trigger a rerender then - also a triggered rerender outside of the bound events would end in Suspense... How can I get the language i18next will be set to? i18next.isLanguageChangingTo is set to the language called hashtag v16.x.x to v17.0.0 removes named exports in index.js to avoid issues in bundlers hashtag v15.x.x to v16.0.0 Build process was updated - no API changes note: dist/es -> dist/esm, dist/commonjs -> dist/cjs (individual files -> one bundled file) hashtag v14.x.x to v15.0.0 Build process was updated - no API changes hashtag v13.x.x to v14.0.0 Breaking changes in typescript typings for details have a look at this pull request arrow-up-right . hashtag v12.x.x to v13.0.0 typescript definitions now can directly be used from the i18next module - no longer needed to get them from DefinitelyTyped functions used to return a callback (eg. init, changeLanguage, loadNamespaces) now also return a Promise - while this enables easier handling using async await this also means eg. i18next.init does not return this anylonger and therefore you can&#x27;t chain calls like i18next.init().on() anylonger. hashtag v11.x.x to v12.0.0 plural form for hebrew was updated to latest CLDR arrow-up-right . Before it had one plural form. You will have to update your JSON files containing hebrew plurals. Or patch back the plural form to: https://github.com/i18next/i18next/blob/master/src/PluralResolver.js#L43 arrow-up-right using the addRule function arrow-up-right . Learn more about plurals: https://www.i18next.com/translation-function/plurals arrow-up-right hashtag v10.x.x to v11.0.0 removes plugin of type cache. Can be replace by i18next-chained-backend arrow-up-right example cache for localStorage i18next-localstorage-backend arrow-up-right removes the support for multiload (multiRead) in backends - will just use read per language-namespace. You can enable multiRead support in backends again by using i18next-multiload-backend-adapter arrow-up-right hashtag v9.x.x to v10.0.0 brings pt, pt-PT, pt-BR plurals in line with, new pt reflects pt-BR and pt-PT gets a special case for plural handling http://www.unicode.org/cldr/charts/26/supplemental/language_plural_rules.html arrow-up-right code locale rule pt-PT Portugal Portuguese plurals=2; plural=(n != 1); pt_BR Brazilian Portuguese plurals=2; plural=(n > 1); pt Portuguese plurals=2; plural=(n > 1); hashtag v8.x.x to v9.0.0 With v9 we removed the compatibility for the v1 API. So the compatibilityAPI: &#x27;v1&#x27; flag won&#x27;t do anything anymore. You still can append this manually as we do for our old v1 tests - learn more arrow-up-right . hashtag v7.x.x to v8.0.0 The nonExplicitWhitelist flag was changed to be used in user detected language too, before it was restricted to defined fallback languages only. hashtag v6.x.x to v7.0.0 We used to resolve nb-NO, nn-NO to no as language part mainly because there was no way to proper define per local fallbacks. With v7.0.0 we removed that to enable default behaviour also for norwegian language. To get back the old behaviour you can define multiple fallbacks like: Additional starting from 7.0.0 you could use named exports: hashtag v5.x.x to v6.0.0 Return namespace in cimode with appendNamespaceToCIMode option (default now will only return key without namespace - independent of call to t function) #863 arrow-up-right This change might break your e2e tests if your depending on the cimode (the returned value can now be set to return always only key or ns+key) hashtag v4.x.x to v5.0.0 Nested keys should not be escaped #854 arrow-up-right i18next.cloneInstance() calls now init() (before it depended on having called that function with a callback) #860 arrow-up-right hashtag v3.x.x to v4.0.0 There is only a small change for webpack2 builds which now targets es build with import/export in place to enable treeshaking (module entrypoint in package.json). Nothing breaking for non webpack2 users. hashtag v2.x.x to v3.0.0 There is one breaking change regarding suffixing plurals in cases a language has multiple plural forms. Eg. arabic suffixes are now 0, 1, 2, 3, 4, 5 instead of 0, 1, 2, 3, 11, 100. This change streamlines the suffix with the one used in gettext. To enforce old behaviour you can enable compatibilityJSON = &#x27;v2&#x27; on i18next init call. hashtag v1.11.x to v2.0.0 While v2.0.0 is a full rewrite of the old codebase it should be possible to run in your app without completely rewrite your integration. hashtag Getting started The new version does not come with backend, cache and user language detection built in. i18next is more a core library that can be extended with modules on demand. This way it can be seamlessly used in browser, node.js or other javascript runtimes. Modules are available on npm, via bower or on github to download. hashtag browser hint for jquery user: use additional jquery-i18next arrow-up-right hashtag nodejs hashtag nodejs + express hashtag Running v2.0.0 with compatibility flags Version 2.0.0 has a compatibility layer built in which allows to run it like v1.11.x. Keep in mind this layer will be removed in future version. option description compatibilityAPI Will convert init and t options and expose old API functions. Will be removed with future update. compatibilityJSON Will allow to use JSON files in v1 format. Using old interpolation prefix, suffix and no need for singular suffix [0] for singular in languages with more then just 1 plural form. hashtag Not supported any longer in v2.0.0 support for older browsers : Beginning with v2 we target only modern browsers (Chrome, Firefox, ... and IE >= 10). For IE9 you will need to add a es5 shim jquery : use additional jquery-i18next arrow-up-right synchronous loading : i18next.init({ getAsync: false }); is not supported any longer - as not encouraged by browsers. no conflict: i18n.noConflict(); was removed as i18next registers to window.i18next and no longer to window.i18n indefinite article: i18n.t(&#x27;myKey&#x27;, { indefinite_article: true }) was removed - as the solution was too limited - reconsidering adding a better solution in a future v2 release Last updated 5 months ago v25.3.x to v25.4.0 v24.x.x to v25.0.0 v23.x.x to v24.0.0 v22.x.x to v23.0.0 v21.x.x to v22.0.0 v20.x.x to v21.0.0 v19.x.x to v20.0.0 v18.x.x to v19.0.0 v17.x.x to v18.0.0 v16.x.x to v17.0.0 v15.x.x to v16.0.0 v14.x.x to v15.0.0 v13.x.x to v14.0.0 v12.x.x to v13.0.0 v11.x.x to v12.0.0 v10.x.x to v11.0.0 v9.x.x to v10.0.0 v8.x.x to v9.0.0 v7.x.x to v8.0.0 v6.x.x to v7.0.0 v5.x.x to v6.0.0 v4.x.x to v5.0.0 v3.x.x to v4.0.0 v2.x.x to v3.0.0 v1.11.x to v2.0.0 sun-bright desktop moon Copy // i18next.d.ts import &#x27;i18next&#x27;; declare module &#x27;i18next&#x27; { interface CustomTypeOptions { returnObjects: true ... Copy npx codemod i18next/23/add-namespace-type-annotation Copy npx codemod i18next/23/replace-keys Copy npx codemod i18next/23/remove-options Copy import i18next from &#x27;i18next&#x27;; i18next.init({ compatibilityJSON: &#x27;v3&#x27; }, (err, t) => { /* resources are loaded */ }); Copy import i18next from &#x27;i18next&#x27;; i18next.init({ interpolation: { skipOnVariables: false } }, (err, t) => { /* resources are loaded */ }); Copy i18next.init({ fallbackLng: &#x27;en&#x27;, whitelist: [&#x27;de&#x27;, &#x27;en&#x27;, &#x27;zh&#x27;], nonExplicitWhitelist: true }); // eg. `de-AT` will now pass the whitelist check Copy fallbackLng: { &#x27;nb&#x27;: [&#x27;no&#x27;, &#x27;en&#x27;], &#x27;nn&#x27;: [&#x27;no&#x27;, &#x27;en&#x27;], &#x27;default&#x27;: [&#x27;en&#x27;] } Copy import { init, t } from &#x27;i18next&#x27;; Copy import i18next from &#x27;i18next&#x27;; i18next.init({ compatibilityJSON: &#x27;v2&#x27; }, (err, t) => { /* resources are loaded */ }); Copy import i18next from &#x27;i18next&#x27;; import XHR from &#x27;i18next-xhr-backend&#x27;; import Cache from &#x27;i18next-localstorage-cache&#x27;; import sprintf from &#x27;i18next-sprintf-postprocessor&#x27;; import LanguageDetector from &#x27;i18next-browser-languagedetector&#x27;; i18next .use(XHR) .use(Cache) .use(LanguageDetector) .use(sprintf) .init(options, callback); Copy var i18next = require(&#x27;i18next&#x27;), FilesystemBackend = require(&#x27;i18next-node-fs-backend&#x27;), sprintf = require(&#x27;i18next-sprintf-postprocessor&#x27;); i18next .use(FilesystemBackend) .use(sprintf) .init(options, callback); Copy var express = require(&#x27;express&#x27;); i18next = require(&#x27;i18next&#x27;), FilesystemBackend = require(&#x27;i18next-node-fs-backend&#x27;), sprintf = require(&#x27;i18next-sprintf-postprocessor&#x27;), i18nextMiddleware = require(&#x27;i18next-express-middleware&#x27;); i18next .use(i18nextMiddleware.LanguageDetector) .use(FilesystemBackend) .use(sprintf) .init(options, callback); var app = express(); app.use(i18nextMiddleware.handle(i18next)); // expose req.t with fixed lng app.post(&#x27;/locales/add/:lng/:ns&#x27;, i18nextMiddleware.missingKeyHandler(i18next)); // serves missing key route for consumers (browser) app.get(&#x27;/locales/resources.json&#x27;, i18nextMiddleware.getResourcesHandler(i18next)); // serves resources for consumers (browser) app.listen(3000); Copy import i18next from &#x27;i18next&#x27;; i18next.init({ compatibilityAPI: &#x27;v1&#x27;, compatibilityJSON: &#x27;v1&#x27;, // ...old options from v1 }, (err, t) => { /* resources are loaded */ }); sun-bright desktop moon

---

## react-i18next changelog

Source: https://github.com/i18next/react-i18next/blob/master/CHANGELOG.md#1600

Status: 200

Content-Type: text/html; charset=utf-8

react-i18next/CHANGELOG.md at master · i18next/react-i18next · GitHub Skip to content Navigation Menu Toggle navigation Sign in Appearance settings Platform AI CODE CREATION GitHub Copilot Write better code with AI GitHub Spark Build and deploy intelligent apps GitHub Models Manage and compare prompts MCP Registry New Integrate external tools DEVELOPER WORKFLOWS Actions Automate any workflow Codespaces Instant dev environments Issues Plan and track work Code Review Manage code changes APPLICATION SECURITY GitHub Advanced Security Find and fix vulnerabilities Code security Secure your code as you build Secret protection Stop leaks before they start EXPLORE Why GitHub Documentation Blog Changelog Marketplace View all features Solutions BY COMPANY SIZE Enterprises Small and medium teams Startups Nonprofits BY USE CASE App Modernization DevSecOps DevOps CI/CD View all use cases BY INDUSTRY Healthcare Financial services Manufacturing Government View all industries View all solutions Resources EXPLORE BY TOPIC AI Software Development DevOps Security View all topics EXPLORE BY TYPE Customer stories Events & webinars Ebooks & reports Business insights GitHub Skills SUPPORT & SERVICES Documentation Customer support Community forum Trust center Partners Open Source COMMUNITY GitHub Sponsors Fund open source developers PROGRAMS Security Lab Maintainer Community Accelerator Archive Program REPOSITORIES Topics Trending Collections Enterprise ENTERPRISE SOLUTIONS Enterprise platform AI-powered developer platform AVAILABLE ADD-ONS GitHub Advanced Security Enterprise-grade security features Copilot for Business Enterprise-grade AI features Premium Support Enterprise-grade 24/7 support Pricing Search or jump to... Search code, repositories, users, issues, pull requests... --> Search Clear Search syntax tips Provide feedback --> We read every piece of feedback, and take your input very seriously. Include my email address so I can be contacted Cancel Submit feedback Saved searches Use saved searches to filter your results more quickly --> Name Query To see all available qualifiers, see our documentation . Cancel Create saved search Sign in Sign up Appearance settings Resetting focus You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert {{ message }} i18next / react-i18next Public Uh oh! There was an error while loading. Please reload this page . Notifications You must be signed in to change notification settings Fork 1k Star 9.9k Code Issues 3 Pull requests 1 Actions Projects 0 Security 0 Insights Additional navigation options Code Issues Pull requests Actions Projects Security Insights Footer &copy; 2026 GitHub, Inc. Footer navigation Terms Privacy Security Status Community Docs Contact Manage cookies Do not share my personal information You can’t perform that action at this time.

---

## @hookform/resolvers v5.0.0 release

Source: https://github.com/react-hook-form/resolvers/releases/tag/v5.0.0

Status: 200

Content-Type: text/html; charset=utf-8

Release v5.0.0 · react-hook-form/resolvers · GitHub Skip to content Navigation Menu Toggle navigation Sign in Appearance settings Platform AI CODE CREATION GitHub Copilot Write better code with AI GitHub Spark Build and deploy intelligent apps GitHub Models Manage and compare prompts MCP Registry New Integrate external tools DEVELOPER WORKFLOWS Actions Automate any workflow Codespaces Instant dev environments Issues Plan and track work Code Review Manage code changes APPLICATION SECURITY GitHub Advanced Security Find and fix vulnerabilities Code security Secure your code as you build Secret protection Stop leaks before they start EXPLORE Why GitHub Documentation Blog Changelog Marketplace View all features Solutions BY COMPANY SIZE Enterprises Small and medium teams Startups Nonprofits BY USE CASE App Modernization DevSecOps DevOps CI/CD View all use cases BY INDUSTRY Healthcare Financial services Manufacturing Government View all industries View all solutions Resources EXPLORE BY TOPIC AI Software Development DevOps Security View all topics EXPLORE BY TYPE Customer stories Events & webinars Ebooks & reports Business insights GitHub Skills SUPPORT & SERVICES Documentation Customer support Community forum Trust center Partners Open Source COMMUNITY GitHub Sponsors Fund open source developers PROGRAMS Security Lab Maintainer Community Accelerator Archive Program REPOSITORIES Topics Trending Collections Enterprise ENTERPRISE SOLUTIONS Enterprise platform AI-powered developer platform AVAILABLE ADD-ONS GitHub Advanced Security Enterprise-grade security features Copilot for Business Enterprise-grade AI features Premium Support Enterprise-grade 24/7 support Pricing Search or jump to... Search code, repositories, users, issues, pull requests... --> Search Clear Search syntax tips Provide feedback --> We read every piece of feedback, and take your input very seriously. Include my email address so I can be contacted Cancel Submit feedback Saved searches Use saved searches to filter your results more quickly --> Name Query To see all available qualifiers, see our documentation . Cancel Create saved search Sign in Sign up Appearance settings Resetting focus You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert {{ message }} react-hook-form / resolvers Public Uh oh! There was an error while loading. Please reload this page . Notifications You must be signed in to change notification settings Fork 207 Star 2.2k Code Issues 59 Pull requests 9 Actions Projects 0 Security 0 Insights Additional navigation options Code Issues Pull requests Actions Projects Security Insights Releases v5.0.0 v5.0.0 Compare Choose a tag to compare Sorry, something went wrong. Filter Loading Sorry, something went wrong. Uh oh! There was an error while loading. Please reload this page . No results found View all tags github-actions released this 01 Apr 09:15 &middot; 10 commits to master since this release v5.0.0 a54d05a 5.0.0 (2025-04-01) Features infer input/output types from schema ( #753 ) ( 6124c59 ) BREAKING CHANGES Requires react-hook-form@7.55.0 or higher Before Prior to V5, some projects used manual types like useForm < FormValues > ( ) ; After With V5, the correct approach is: useForm < Input , Context , Output > ( ) ; useForm < FormInputValues , Context , FormOutputValues > ( ) ; This update enables distinct outputs when utilizing features like transform from validation libraries. ℹ️ The best approach is to let the types be inferred from your schema, rather than manually defining them. Assets 2 Loading Uh oh! There was an error while loading. Please reload this page . --> 👍 25 leonardomso, EliasPereyra, roottool, patrykszwed, hugojos, vanwalj, yoannfleurydev, dawsonbooth, maciejcieslar, HyunJinNo, and 15 more reacted with thumbs up emoji 🎉 17 solcik, ValentinGurkov, roottool, brycefranzen, hugojos, higorcouto, vanwalj, prescottprue, marko-hologram, supersnager, and 7 more reacted with hooray emoji All reactions 👍 25 reactions 🎉 17 reactions 35 people reacted Footer &copy; 2026 GitHub, Inc. Footer navigation Terms Privacy Security Status Community Docs Contact Manage cookies Do not share my personal information You can’t perform that action at this time.

---

## @stripe/react-stripe-js v5.0.0 release

Source: https://github.com/stripe/react-stripe-js/releases/tag/v5.0.0

Status: 200

Content-Type: text/html; charset=utf-8

Release v5.0.0 · stripe/react-stripe-js · GitHub Skip to content Navigation Menu Toggle navigation Sign in Appearance settings Platform AI CODE CREATION GitHub Copilot Write better code with AI GitHub Spark Build and deploy intelligent apps GitHub Models Manage and compare prompts MCP Registry New Integrate external tools DEVELOPER WORKFLOWS Actions Automate any workflow Codespaces Instant dev environments Issues Plan and track work Code Review Manage code changes APPLICATION SECURITY GitHub Advanced Security Find and fix vulnerabilities Code security Secure your code as you build Secret protection Stop leaks before they start EXPLORE Why GitHub Documentation Blog Changelog Marketplace View all features Solutions BY COMPANY SIZE Enterprises Small and medium teams Startups Nonprofits BY USE CASE App Modernization DevSecOps DevOps CI/CD View all use cases BY INDUSTRY Healthcare Financial services Manufacturing Government View all industries View all solutions Resources EXPLORE BY TOPIC AI Software Development DevOps Security View all topics EXPLORE BY TYPE Customer stories Events & webinars Ebooks & reports Business insights GitHub Skills SUPPORT & SERVICES Documentation Customer support Community forum Trust center Partners Open Source COMMUNITY GitHub Sponsors Fund open source developers PROGRAMS Security Lab Maintainer Community Accelerator Archive Program REPOSITORIES Topics Trending Collections Enterprise ENTERPRISE SOLUTIONS Enterprise platform AI-powered developer platform AVAILABLE ADD-ONS GitHub Advanced Security Enterprise-grade security features Copilot for Business Enterprise-grade AI features Premium Support Enterprise-grade 24/7 support Pricing Search or jump to... Search code, repositories, users, issues, pull requests... --> Search Clear Search syntax tips Provide feedback --> We read every piece of feedback, and take your input very seriously. Include my email address so I can be contacted Cancel Submit feedback Saved searches Use saved searches to filter your results more quickly --> Name Query To see all available qualifiers, see our documentation . Cancel Create saved search Sign in Sign up Appearance settings Resetting focus You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert {{ message }} stripe / react-stripe-js Public Notifications You must be signed in to change notification settings Fork 319 Star 2k Code Issues 5 Pull requests 4 Actions Security 0 Insights Additional navigation options Code Issues Pull requests Actions Security Insights Releases v5.0.0 v5.0.0 Compare Choose a tag to compare Sorry, something went wrong. Filter Loading Sorry, something went wrong. Uh oh! There was an error while loading. Please reload this page . No results found View all tags dodgez-stripe released this 01 Oct 00:26 &middot; 19 commits to master since this release v5.0.0 e31c012 This commit was signed with the committer’s verified signature . dodgez-stripe SSH Key Fingerprint: IDtDZeZmvbxWphojp9NzevcFynoHmgKB5g5WM7lSJtk Verified Learn about vigilant mode . Stripe.js Clover changelog: https://docs.stripe.com/changelog?category=stripejs Fixes export StripeCheckoutValue from checkout entrypoint #625 ( #625 ) Changed Remove Clover element types ( #626 ) [breaking] Update CheckoutProvider to use new shape ( #615 ) [EwCS] update storybook example to v4 ( #622 ) Assets 2 Loading Uh oh! There was an error while loading. Please reload this page . --> All reactions Footer &copy; 2026 GitHub, Inc. Footer navigation Terms Privacy Security Status Community Docs Contact Manage cookies Do not share my personal information You can’t perform that action at this time.

---

## @stripe/stripe-js v8.0.0 release

Source: https://github.com/stripe/stripe-js/releases/tag/v8.0.0

Status: 200

Content-Type: text/html; charset=utf-8

Release v8.0.0 · stripe/stripe-js · GitHub Skip to content Navigation Menu Toggle navigation Sign in Appearance settings Platform AI CODE CREATION GitHub Copilot Write better code with AI GitHub Spark Build and deploy intelligent apps GitHub Models Manage and compare prompts MCP Registry New Integrate external tools DEVELOPER WORKFLOWS Actions Automate any workflow Codespaces Instant dev environments Issues Plan and track work Code Review Manage code changes APPLICATION SECURITY GitHub Advanced Security Find and fix vulnerabilities Code security Secure your code as you build Secret protection Stop leaks before they start EXPLORE Why GitHub Documentation Blog Changelog Marketplace View all features Solutions BY COMPANY SIZE Enterprises Small and medium teams Startups Nonprofits BY USE CASE App Modernization DevSecOps DevOps CI/CD View all use cases BY INDUSTRY Healthcare Financial services Manufacturing Government View all industries View all solutions Resources EXPLORE BY TOPIC AI Software Development DevOps Security View all topics EXPLORE BY TYPE Customer stories Events & webinars Ebooks & reports Business insights GitHub Skills SUPPORT & SERVICES Documentation Customer support Community forum Trust center Partners Open Source COMMUNITY GitHub Sponsors Fund open source developers PROGRAMS Security Lab Maintainer Community Accelerator Archive Program REPOSITORIES Topics Trending Collections Enterprise ENTERPRISE SOLUTIONS Enterprise platform AI-powered developer platform AVAILABLE ADD-ONS GitHub Advanced Security Enterprise-grade security features Copilot for Business Enterprise-grade AI features Premium Support Enterprise-grade 24/7 support Pricing Search or jump to... Search code, repositories, users, issues, pull requests... --> Search Clear Search syntax tips Provide feedback --> We read every piece of feedback, and take your input very seriously. Include my email address so I can be contacted Cancel Submit feedback Saved searches Use saved searches to filter your results more quickly --> Name Query To see all available qualifiers, see our documentation . Cancel Create saved search Sign in Sign up Appearance settings Resetting focus You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert {{ message }} stripe / stripe-js Public Notifications You must be signed in to change notification settings Fork 193 Star 726 Code Issues 3 Pull requests 4 Actions Security 0 Insights Additional navigation options Code Issues Pull requests Actions Security Insights Releases v8.0.0 v8.0.0 Compare Choose a tag to compare Sorry, something went wrong. Filter Loading Sorry, something went wrong. Uh oh! There was an error while loading. Please reload this page . No results found View all tags dodgez-stripe released this 01 Oct 00:15 &middot; 46 commits to master since this release v8.0.0 f3c0d62 This commit was signed with the committer’s verified signature . dodgez-stripe SSH Key Fingerprint: IDtDZeZmvbxWphojp9NzevcFynoHmgKB5g5WM7lSJtk Verified Learn about vigilant mode . Stripe.js Clover changelog: https://docs.stripe.com/changelog?category=stripejs New features [breaking] Update types for Checkout SDK ( #803 ) Add Types for metadata field ( #808 ) Add Types for Condensed Inputs ( #807 ) Support expand on confirmAcssDebitSetup() ( #811 ) Update checkout.d.ts ( #813 ) Fixes Fix types for PaymentMethod for all GA-ed LPMs ( #812 ) Changed Replace optional stripe.elements mode params with discriminated union ( #756 ) Bump cipher-base from 1.0.4 to 1.0.6 in /examples/parcel ( #800 ) Remove Clover elements ( #809 ) [breaking] Remove types for redirectToCheckout ( #806 ) Assets 2 Loading Uh oh! There was an error while loading. Please reload this page . --> 👍 1 dotkas reacted with thumbs up emoji All reactions 👍 1 reaction 1 person reacted Footer &copy; 2026 GitHub, Inc. Footer navigation Terms Privacy Security Status Community Docs Contact Manage cookies Do not share my personal information You can’t perform that action at this time.

---

## eslint-config-next v16 upgrade guide

Source: https://nextjs.org/docs/app/guides/upgrading/version-16

Status: 200

Content-Type: text/html; charset=utf-8

Upgrading: Version 16 | Next.js Skip to content Search documentation... Search... ⌘K Showcase Docs Blog Templates Enterprise Search documentation... Search... ⌘K Feedback Learn Menu Using App Router Features available in /app Latest Version 16.1.6 Getting Started Installation Project Structure Layouts and Pages Linking and Navigating Server and Client Components Cache Components Fetching Data Updating Data Caching and Revalidating Error Handling CSS Image Optimization Font Optimization Metadata and OG images Route Handlers Proxy Deploying Upgrading Guides Analytics Authentication Backend for Frontend Caching CI Build Caching Content Security Policy CSS-in-JS Custom Server Data Security Debugging Draft Mode Environment Variables Forms ISR Instrumentation Internationalization JSON-LD Lazy Loading Development Environment Next.js MCP Server MDX Memory Usage Migrating App Router Create React App Vite Multi-tenant Multi-zones OpenTelemetry Package Bundling Prefetching Production PWAs Public pages Redirecting Sass Scripts Self-Hosting SPAs Static Exports Tailwind CSS v3 Testing Cypress Jest Playwright Vitest Third Party Libraries Upgrading Codemods Version 14 Version 15 Version 16 Videos API Reference Directives use cache use cache: private use cache: remote use client use server Components Font Form Component Image Component Link Component Script Component File-system conventions default.js Dynamic Segments error.js forbidden.js instrumentation.js instrumentation-client.js Intercepting Routes layout.js loading.js mdx-components.js not-found.js page.js Parallel Routes proxy.js public route.js Route Groups Route Segment Config src template.js unauthorized.js Metadata Files favicon, icon, and apple-icon manifest.json opengraph-image and twitter-image robots.txt sitemap.xml Functions after cacheLife cacheTag connection cookies draftMode fetch forbidden generateImageMetadata generateMetadata generateSitemaps generateStaticParams generateViewport headers ImageResponse NextRequest NextResponse notFound permanentRedirect redirect refresh revalidatePath revalidateTag unauthorized unstable_cache unstable_noStore unstable_rethrow updateTag useLinkStatus useParams usePathname useReportWebVitals useRouter useSearchParams useSelectedLayoutSegment useSelectedLayoutSegments userAgent Configuration next.config.js experimental.adapterPath allowedDevOrigins appDir assetPrefix authInterrupts basePath browserDebugInfoInTerminal cacheComponents cacheHandlers cacheLife compress crossOrigin cssChunking devIndicators distDir env expireTime exportPathMap generateBuildId generateEtags headers htmlLimitedBots httpAgentOptions images cacheHandler inlineCss isolatedDevBuild logging mdxRs onDemandEntries optimizePackageImports output pageExtensions poweredByHeader productionBrowserSourceMaps proxyClientMaxBodySize reactCompiler reactMaxHeadersLength reactStrictMode redirects rewrites sassOptions serverActions serverComponentsHmrCache serverExternalPackages staleTimes staticGeneration* taint trailingSlash transpilePackages turbopack turbopackFileSystemCache typedRoutes typescript urlImports useLightningcss viewTransition webpack webVitalsAttribution TypeScript ESLint CLI create-next-app next CLI Edge Runtime Turbopack Glossary Getting Started Installation Project Structure Images Fonts CSS Deploying Guides Analytics Authentication Babel CI Build Caching Content Security Policy CSS-in-JS Custom Server Debugging Draft Mode Environment Variables Forms ISR Instrumentation Internationalization Lazy Loading MDX Migrating App Router Create React App Vite Multi-Zones OpenTelemetry Package Bundling PostCSS Preview Mode Production Redirecting Sass Scripts Self-Hosting Static Exports Tailwind CSS Testing Cypress Jest Playwright Vitest Third Party Libraries Upgrading Codemods Version 10 Version 11 Version 12 Version 13 Version 14 Version 9 Building Your Application Routing Pages and Layouts Dynamic Routes Linking and Navigating Custom App Custom Document API Routes Custom Errors Rendering Server-side Rendering (SSR) Static Site Generation (SSG) Automatic Static Optimization Client-side Rendering (CSR) Data Fetching getStaticProps getStaticPaths Forms and Mutations getServerSideProps Client-side Fetching Configuring Error Handling API Reference Components Font Form Head Image Image (Legacy) Link Script File-system conventions instrumentation.js Proxy public src Directory Functions getInitialProps getServerSideProps getStaticPaths getStaticProps NextRequest NextResponse useParams useReportWebVitals useRouter useSearchParams userAgent Configuration next.config.js Options experimental.adapterPath allowedDevOrigins assetPrefix basePath bundlePagesRouterDependencies compress crossOrigin devIndicators distDir env exportPathMap generateBuildId generateEtags headers httpAgentOptions images isolatedDevBuild onDemandEntries optimizePackageImports output pageExtensions poweredByHeader productionBrowserSourceMaps experimental.proxyClientMaxBodySize reactStrictMode redirects rewrites serverExternalPackages trailingSlash transpilePackages turbopack typescript urlImports useLightningcss webpack webVitalsAttribution TypeScript ESLint CLI create-next-app CLI next CLI Edge Runtime Turbopack Architecture Accessibility Fast Refresh Next.js Compiler Supported Browsers Community Contribution Guide Rspack On this page Upgrading from 15 to 16 Using AI Agents with Next.js DevTools MCP Setup Example Prompts Using the Codemod Node.js runtime and browser support Turbopack by default Opting out of Turbopack Turbopack configuration location Resolve alias fallback Sass node_modules imports Turbopack File System Caching (beta) Async Request APIs (Breaking change) Migrating types for async Dynamic APIs Async parameters for icon, and open-graph Image (Breaking change) Async id parameter for sitemap (Breaking change) React 19.2 React Compiler Support Caching APIs revalidateTag updateTag refresh cacheLife and cacheTag Enhanced Routing and Navigation Partial Pre-Rendering (PPR) middleware to proxy next/image changes Local Images with Query Strings (Breaking change) minimumCacheTTL Default (Breaking change) imageSizes Default (Breaking change) qualities Default (Breaking change) Local IP Restriction (Breaking change) Maximum Redirects (Breaking change) next/legacy/image Component (deprecated) images.domains Configuration (deprecated) Concurrent dev and build Parallel Routes default.js requirement ESLint Flat Config Scroll Behavior Override Performance Improvements next dev config load Build Adapters API (alpha) Modern Sass API Removals AMP Support next lint Command Runtime Configuration devIndicators Options experimental.dynamicIO unstable_rootParams Edit this page on GitHub Scroll to top Guides Upgrading Version 16 Copy page How to upgrade to version 16 Last updated January 16, 2026 Upgrading from 15 to 16 Using AI Agents with Next.js DevTools MCP If you&#x27;re using an AI coding assistant that supports the Model Context Protocol (MCP) , you can use the Next.js DevTools MCP to automate the upgrade process and migration tasks. Setup Add the following configuration to your MCP client, for each coding agent you can read this section for configuration details. example: .mcp.json { &quot;mcpServers&quot; : { &quot;next-devtools&quot; : { &quot;command&quot; : &quot;npx&quot; , &quot;args&quot; : [ &quot;-y&quot; , &quot;next-devtools-mcp@latest&quot; ] } } } For more information, visit the next-devtools-mcp documentation to configure with your MCP client. Note: Using next-devtools-mcp@latest ensures that your MCP client will always use the latest version of the Next.js DevTools MCP server. Example Prompts Once configured, you can use natural language prompts to upgrade your Next.js app: To upgrade to Next.js 16: Connect to your coding agent and then prompt: Next Devtools, help me upgrade my Next.js app to version 16 To migrate to Cache Components (after upgrading to v16): Connect to your coding agent and then prompt: Next Devtools, migrate my Next.js app to cache components Learn more in the documentation here . Using the Codemod To update to Next.js version 16, you can use the upgrade codemod : Terminal npx @next/codemod@canary upgrade latest The codemod is able to: Update next.config.js to use the new turbopack configuration Migrate from next lint to the ESLint CLI Migrate from deprecated middleware convention to proxy Remove unstable_ prefix from stabilized APIs Remove experimental_ppr Route Segment Config from pages and layouts If you prefer to do it manually, install the latest Next.js and React versions: Terminal npm install next@latest react@latest react-dom@latest If you are using TypeScript, ensure you also upgrade @types/react and @types/react-dom to their latest versions. Node.js runtime and browser support Requirement Change / Details Node.js 20.9+ Minimum version now 20.9.0 (LTS); Node.js 18 no longer supported TypeScript 5+ Minimum version now 5.1.0 Browsers Chrome 111+, Edge 111+, Firefox 111+, Safari 16.4+ Turbopack by default Starting with Next.js 16 , Turbopack is stable and used by default with next dev and next build Previously you had to enable Turbopack using --turbopack , or --turbo . package.json { &quot;scripts&quot; : { &quot;dev&quot; : &quot;next dev --turbopack&quot; , &quot;build&quot; : &quot;next build --turbopack&quot; , &quot;start&quot; : &quot;next start&quot; } } This is no longer necessary. You can update your package.json scripts: package.json { &quot;scripts&quot; : { &quot;dev&quot; : &quot;next dev&quot; , &quot;build&quot; : &quot;next build&quot; , &quot;start&quot; : &quot;next start&quot; } } If your project has a custom webpack configuration and you run next build (which now uses Turbopack by default), the build will fail to prevent misconfiguration issues. You have a few different ways to address this: Use Turbopack anyway: Run with next build --turbopack to build using Turbopack and ignore your webpack config. Switch to Turbopack fully: Migrate your webpack config to Turbopack-compatible options. Keep using Webpack: Use the --webpack flag to opt out of Turbopack and build with Webpack. Good to know : If you see failing builds because a webpack configuration was found, but you don&#x27;t define one yourself, it is likely that a plugin is adding a webpack option Opting out of Turbopack If you need to continue using Webpack, you can opt out with the --webpack flag. For example, to use Turbopack in development but Webpack for production builds: package.json { &quot;scripts&quot; : { &quot;dev&quot; : &quot;next dev&quot; , &quot;build&quot; : &quot;next build --webpack&quot; , &quot;start&quot; : &quot;next start&quot; } } We recommend using Turbopack for development and production. Submit a comment to this thread , if you are unable to switch to Turbopack. Turbopack configuration location The experimental.turbopack configuration is out of experimental. next.config.ts import type { NextConfig } from &#x27;next&#x27; // Next.js 15 - experimental.turbopack const nextConfig : NextConfig = { experimental : { turbopack : { // options } , } , } export default nextConfig You can use it as a top-level turbopack option: next.config.ts import type { NextConfig } from &#x27;next&#x27; // Next.js 16 - turbopack at the top level of nextConfig const nextConfig : NextConfig = { turbopack : { // options } , } export default nextConfig Make sure to review the Turbopack configuration options . Next.js 16 introduces various improvements and new options, for example: Advanced Webpack loader conditions debugIds Resolve alias fallback In some projects, client-side code may import files containing Node.js native modules. This will cause Module not found: Can&#x27;t resolve &#x27;fs&#x27; type of errors. When this happens, you should refactor your code so that your client-side bundles do not reference these Node.js native modules. However, in some cases, this might not be possible. In Webpack the resolve.fallback option was typically used to silence the error. Turbopack offers a similar option, using turbopack.resolveAlias . In this case, tell Turbopack to load an empty module when fs is requested for the browser. next.config.ts import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { turbopack : { resolveAlias : { fs : { browser : &#x27;./empty.ts&#x27; , // We recommend to fix code imports before using this method } , } , } , } export default nextConfig It is preferable to refactor your modules so that client code doesn&#x27;t ever import from modules using Node.js native modules. Sass node_modules imports Turbopack fully supports importing Sass files from node_modules . Note that while Webpack allowed the legacy tilde ( ~ ) prefix, Turbopack does not support this syntax. In Webpack: styles/globals.scss @import &#x27;~bootstrap/dist/css/bootstrap.min.css&#x27; ; In Turbopack: styles/globals.scss @import &#x27;bootstrap/dist/css/bootstrap.min.css&#x27; ; If changing the imports is not possible, you can use turbopack.resolveAlias . For example: next.config.ts import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { turbopack : { resolveAlias : { &#x27;~*&#x27; : &#x27;*&#x27; , } , } , } export default nextConfig Turbopack File System Caching (beta) Turbopack now supports filesystem caching in development, storing compiler artifacts on disk between runs for significantly faster compile times across restarts. Enable filesystem caching in your configuration: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { experimental : { turbopackFileSystemCacheForDev : true , } , } export default nextConfig Async Request APIs (Breaking change) Version 15 introduced Async Request APIs as a breaking change, with temporary synchronous compatibility. Starting with Next.js 16 , synchronous access is fully removed. These APIs can only be accessed asynchronously. cookies headers draftMode params in layout.js , page.js , route.js , default.js , opengraph-image , twitter-image , icon , and apple-icon . searchParams in page.js Use the codemod to migrate to async Dynamic APIs. Migrating types for async Dynamic APIs To help migrate to async params and searchParams , you can run npx next typegen to automatically generate these globally available types helpers: PageProps LayoutProps RouteContext Good to know : typegen was introduced in Next.js 15.5 This simplifies type-safe migration to the new async API pattern, and enables you to update your components with full type safety, for example: /app/blog/[slug]/page.tsx export default async function Page (props : PageProps < &#x27;/blog/[slug]&#x27; >) { const { slug } = await props .params const query = await props .searchParams return < h1 >Blog Post: {slug}</ h1 > } This approach gives you fully type-safe access to props.params , including the slug , and to searchParams , directly within your page. Async parameters for icon, and open-graph Image (Breaking change) The props passed to the image generating functions in opengraph-image , twitter-image , icon , and apple-icon , are now Promises. In previous versions, both the Image (image generation function), and the generateImageMetadata received a params object. The id returned by generateImageMetadata was passed as a string to the image generation function. app/shop/[slug]/opengraph-image.js // Next.js 15 - synchronous params access export function generateImageMetadata ({ params }) { const { slug } = params return [{ id : &#x27;1&#x27; } , { id : &#x27;2&#x27; }] } // Next.js 15 - synchronous params and id access export default function Image ({ params , id }) { const slug = params .slug const imageId = id // string // ... } Starting with Next.js 16 , to align with the Async Request APIs change, the image generating function now receives params and id as promises. The generateImageMetadata function continues to receive synchronous params . app/shop/[slug]/opengraph-image.js export async function generateImageMetadata ({ params }) { const { slug } = params return [{ id : &#x27;1&#x27; } , { id : &#x27;2&#x27; }] } // Next.js 16 - asynchronous params and id access export default async function Image ({ params , id }) { const { slug } = await params // params now async const imageId = await id // id is now Promise<string> when using generateImageMetadata // ... } Async id parameter for sitemap (Breaking change) Previously, the id values returned from generateSitemaps were passed directly to the sitemap generating function. app/product/sitemap.js export async function generateSitemaps () { return [{ id : 0 } , { id : 1 } , { id : 2 } , { id : 3 }] } // Next.js 15 - synchronous id access export default async function sitemap ({ id }) { const start = id * 50000 // id is a number // ... } Starting with Next.js 16 , the sitemap generating function now receives id as a promise. app/product/sitemap.js export async function generateSitemaps () { return [{ id : 0 } , { id : 1 } , { id : 2 } , { id : 3 }] } // Next.js 16 - asynchronous id access export default async function sitemap ({ id }) { const resolvedId = await id // id is now Promise<string> const start = Number (resolvedId) * 50000 // ... } React 19.2 The App Router in Next.js 16 uses the latest React Canary release , which includes the newly released React 19.2 features and other features being incrementally stabilized. Highlights include: View Transitions : Animate elements that update inside a Transition or navigation useEffectEvent : Extract non-reactive logic from Effects into reusable Effect Event functions Activity : Render &quot;background activity&quot; by hiding UI with display: none while maintaining state and cleaning up Effects Learn more in the React 19.2 announcement . React Compiler Support Built-in support for the React Compiler is now stable in Next.js 16 following the React Compiler&#x27;s 1.0 release. The React Compiler automatically memoizes components, reducing unnecessary re-renders with zero manual code changes. The reactCompiler configuration option has been promoted from experimental to stable. It is not enabled by default as we continue gathering build performance data across different application types. next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { reactCompiler : true , } export default nextConfig Install the latest version of the React Compiler plugin: Terminal npm install -D babel-plugin-react-compiler Good to know: Expect compile times in development and during builds to be higher when enabling this option as the React Compiler relies on Babel. Caching APIs revalidateTag revalidateTag has a new function signature. You can pass a cacheLife profile as the second argument. app/actions.ts TypeScript JavaScript TypeScript &#x27;use server&#x27; import { revalidateTag } from &#x27;next/cache&#x27; export async function updateArticle (articleId : string ) { // Mark article data as stale - article readers see stale data while it revalidates revalidateTag ( `article- ${ articleId } ` , &#x27;max&#x27; ) } Use revalidateTag for content where a slight delay in updates is acceptable, such as blog posts, product catalogs, or documentation. Users receive stale content while fresh data loads in the background. updateTag updateTag is a new Server Actions -only API that provides read-your-writes semantics, where a user makes a change and the UI immediately shows the change, rather than stale data. It does this by expiring and immediately refreshing data within the same request. app/actions.ts TypeScript JavaScript TypeScript &#x27;use server&#x27; import { updateTag } from &#x27;next/cache&#x27; export async function updateUserProfile (userId : string , profile : Profile ) { await db . users .update (userId , profile) // Expire cache and refresh immediately - user sees their changes right away updateTag ( `user- ${ userId } ` ) } This ensures interactive features reflect changes immediately. Perfect for forms, user settings, and any workflow where users expect to see their updates instantly. Learn more about when to use updateTag or revalidateTag here . refresh refresh allows you to refresh the client router from within a Server Action. app/actions.ts TypeScript JavaScript TypeScript &#x27;use server&#x27; import { refresh } from &#x27;next/cache&#x27; export async function markNotificationAsRead (notificationId : string ) { // Update the notification in the database await db . notifications .markAsRead (notificationId) // Refresh the notification count displayed in the header refresh () } Use it when you need to refresh the client router after performing an action. cacheLife and cacheTag cacheLife and cacheTag are now stable. The unstable_ prefix is no longer needed. Wherever you had aliased imports like: import { unstable_cacheLife as cacheLife , unstable_cacheTag as cacheTag , } from &#x27;next/cache&#x27; You can update your imports to: import { cacheLife , cacheTag } from &#x27;next/cache&#x27; Enhanced Routing and Navigation Next.js 16 includes a complete overhaul of the routing and navigation system, making page transitions leaner and faster. This optimizes how Next.js prefetches and caches navigation data: Layout deduplication : When prefetching multiple URLs with a shared layout, the layout is downloaded once. Incremental prefetching : Next.js only prefetches parts not already in cache, rather than entire pages. These changes require no code modifications and are designed to improve performance across all apps. However, you may see more individual prefetch requests with much lower total transfer sizes. We believe this is the right trade-off for nearly all applications. If the increased request count causes issues, please let us know by creating an issue or discussion item. Partial Pre-Rendering (PPR) Next.js 16 removes the experimental Partial Pre-Rendering (PPR) flag and configuration options, including the route level segment experimental_ppr . Starting with Next.js 16 , you can opt into PPR using the cacheComponents configuration. next.config.js /** @type {import(&#x27;next&#x27;).NextConfig} */ const nextConfig = { cacheComponents : true , } module . exports = nextConfig PPR in Next.js 16 works differently than in Next.js 15 canaries. If you are using PPR today, stay in the current Next.js 15 canary you are using. We will follow up with a guide to migrate to Cache Components. next.config.js /** @type {import(&#x27;next&#x27;).NextConfig} */ const nextConfig = { // If you are using PPR today // stay in the current Next.js 15 canary experimental : { ppr : true , } , } module . exports = nextConfig middleware to proxy The middleware filename is deprecated, and has been renamed to proxy to clarify network boundary and routing focus. The edge runtime is NOT supported in proxy . The proxy runtime is nodejs , and it cannot be configured. If you want to continue using the edge runtime, keep using middleware . We will follow up on a minor release with further edge runtime instructions. Terminal # Rename your middleware file mv middleware.ts proxy.ts # or mv middleware.js proxy.js The named export middleware is also deprecated. Rename your function to proxy . proxy.ts TypeScript JavaScript TypeScript export function proxy (request : Request ) {} We recommend changing the function name to proxy , even if you are using a default export. Configuration flags that contained the middleware name are also renamed. For example, skipMiddlewareUrlNormalize is now skipProxyUrlNormalize next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { skipProxyUrlNormalize : true , } export default nextConfig The version 16 codemod is able to update these flags too. next/image changes Local Images with Query Strings (Breaking change) Local image sources with query strings now require images.localPatterns.search configuration to prevent enumeration attacks. app/page.tsx import Image from &#x27;next/image&#x27; export default function Page () { return < Image src = &quot;/assets/photo?v=1&quot; alt = &quot;Photo&quot; width = &quot;100&quot; height = &quot;100&quot; /> } If you need to use query strings with local images, add the pattern to your configuration: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { localPatterns : [ { pathname : &#x27;/assets/**&#x27; , search : &#x27;?v=1&#x27; , } , ] , } , } export default nextConfig minimumCacheTTL Default (Breaking change) The default value for images.minimumCacheTTL has changed from 60 seconds to 4 hours (14400 seconds). This reduces revalidation cost for images without cache-control headers. For some Next.js users, image revalidation was happening frequently, often because the upstream source images missed a cache-control header. This caused revalidation to happen every 60 seconds, which increased CPU usage and cost. Since most images do not change often, this short interval is not ideal. Setting the default to 4 hours offers a more durable cache by default, while still allowing images to update a few times per day if needed. If you need the previous behavior, change minimumCacheTTL to a lower value, for example back to 60 seconds: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { minimumCacheTTL : 60 , } , } export default nextConfig imageSizes Default (Breaking change) The value 16 has been removed from the default images.imageSizes array. We have looked at request analytics and found out that very few projects ever serve 16 pixels width images. Removing this setting reduces the size of the srcset attribute shipped to the browser by next/image . If you need to support 16px images: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { imageSizes : [ 16 , 32 , 48 , 64 , 96 , 128 , 256 , 384 ] , } , } export default nextConfig Rather than lack of developer usage, we believe 16 pixels width images have become less common, because devicePixelRatio: 2 actually fetches a 32px image to prevent blurriness in retina displays. qualities Default (Breaking change) The default value for images.qualities has changed from allowing all qualities to only [75] . If you need to support multiple quality levels: next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { qualities : [ 50 , 75 , 100 ] , } , } export default nextConfig If you specify a quality prop not included in the image.qualities array, the quality will be coerced to the closest value in images.qualities . For example, given the configuration above, a quality prop of 80, is coerced to 75. Local IP Restriction (Breaking change) A new security restriction blocks local IP optimization by default. Set images.dangerouslyAllowLocalIP to true only for private networks. next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { dangerouslyAllowLocalIP : true , // Only for private networks } , } export default nextConfig Maximum Redirects (Breaking change) The default for images.maximumRedirects has changed from unlimited to 3 redirects maximum. next.config.ts TypeScript JavaScript TypeScript import type { NextConfig } from &#x27;next&#x27; const nextConfig : NextConfig = { images : { maximumRedirects : 0 , // Disable redirects // or maximumRedirects : 5 , // Increase for edge cases } , } export default nextConfig next/legacy/image Component (deprecated) The next/legacy/image component is deprecated. Use next/image instead: // Before import Image from &#x27;next/legacy/image&#x27; // After import Image from &#x27;next/image&#x27; images.domains Configuration (deprecated) The images.domains config is deprecated. next.config.js // image.domains is deprecated module . exports = { images : { domains : [ &#x27;example.com&#x27; ] , } , } Use images.remotePatterns instead for improved security: next.config.js // Use image.remotePatterns instead module . exports = { images : { remotePatterns : [ { protocol : &#x27;https&#x27; , hostname : &#x27;example.com&#x27; , } , ] , } , } Concurrent dev and build next dev and next build now use separate output directories, enabling concurrent execution. The next dev command outputs to .next/dev . This is the new default behavior, controlled by isolatedDevBuild . Additionally, a lockfile mechanism prevents multiple next dev or next build instances on the same project. Since the development server outputs to .next/dev , the Turbopack tracing command should be: npx next internal trace .next/dev/trace-turbopack Parallel Routes default.js requirement All parallel route slots now require explicit default.js files. Builds will fail without them. To maintain previous behavior, create a default.js file that calls notFound() or returns null . app/@modal/default.tsx import { notFound } from &#x27;next/navigation&#x27; export default function Default () { notFound () } Or return null : app/@modal/default.tsx export default function Default () { return null } ESLint Flat Config @next/eslint-plugin-next now defaults to ESLint Flat Config format, aligning with ESLint v10 which will drop legacy config support. Make sure to review our API reference for the @next/eslint-plugin-next plugin. If you&#x27;re using the legacy .eslintrc format, consider migrating to the flat config format. See the ESLint migration guide for details. Scroll Behavior Override In previous versions of Next.js , if you had set scroll-behavior: smooth globally on your <html> element via CSS, Next.js would override this during SPA route transitions, as follows: Temporarily set scroll-behavior to auto Perform the navigation (causing instant scroll to top) Restore your original scroll-behavior value This ensured that page navigation always felt snappy and instant, even when you had smooth scrolling enabled for in-page navigation. However, this manipulation could be expensive, especially at the start of every navigation. In Next.js 16 , this behavior has changed. By default, Next.js will no longer override your scroll-behavior setting during navigation. If you want Next.js to perform this override (the previous default behavior), add the data-scroll-behavior=&quot;smooth&quot; attribute to your <html> element: app/layout.tsx export default function RootLayout ({ children }) { return ( < html lang = &quot;en&quot; data-scroll-behavior = &quot;smooth&quot; > < body >{children}</ body > </ html > ) } Performance Improvements Significant performance optimizations for next dev and next start commands, along with improved terminal output with clearer formatting, better error messages, and improved performance metrics. Next.js 16 removes the size and First Load JS metrics from the next build output. We found these to be inaccurate in server-driven architectures using React Server Components. Both our Turbopack and Webpack implementations had issues, and disagreed on how to account for Client Components payload. The most effective way to measure actual route performance is through tools such as Chrome Lighthouse or Vercel Analytics, which focus on Core Web Vitals and downloaded resource sizes. next dev config load In previous versions the Next config file was loaded twice during development: When running the next dev command When the next dev command started the Next.js server This was inefficient because the next dev command doesn&#x27;t need the config file to start the Next.js server. A consequence of this change is that, when running next dev checking if process.argv includes &#x27;dev&#x27; , in your Next.js config file, will return false . Good to know : The typegen , and build commands, are still visible in process.argv . This is specially important for plugins that trigger side-effects on next dev . If that&#x27;s the case, it might be enough to check if NODE_ENV is set to development . next.config.js import { startServer } from &#x27;docs-lib/dev-server&#x27; const isDev = process . env . NODE_ENV === &#x27;development&#x27; if (isDev) { startServer () } const nextConfig = { /* Your config options */ } module . exports = nextConfig Alternatively, use the phase in which the configuration is loaded. Build Adapters API (alpha) Following the Build Adapters RFC , the first alpha version of the Build Adapters API is now available. Build Adapters allow you to create custom adapters that hook into the build process, enabling deployment platforms and custom build integrations to modify Next.js configuration or process build output. next.config.js const nextConfig = { experimental : { adapterPath : require .resolve ( &#x27;./my-adapter.js&#x27; ) , } , } module . exports = nextConfig Share your feedback in the RFC discussion . Modern Sass API sass-loader has been bumped to v16, which supports modern Sass syntax and new features. Removals These features were previously deprecated and are now removed: AMP Support AMP adoption has declined significantly, and maintaining this feature adds complexity to the framework. All AMP APIs and configurations have been removed: amp configuration from your Next config file next/amp hook imports and usage ( useAmp ) // Removed import { useAmp } from &#x27;next/amp&#x27; // Removed export const config = { amp : true } export const config = { amp: true } from pages next.config.js const nextConfig = { // Removed amp : { canonicalBase : &#x27;https://example.com&#x27; , } , } export default nextConfig Evaluate if AMP is still necessary for your use case. Most performance benefits can now be achieved through Next.js&#x27;s built-in optimizations and modern web standards. next lint Command The next lint command has been removed. Use Biome or ESLint directly. next build no longer runs linting. A codemod is available to automate migration: Terminal npx @next/codemod@canary next-lint-to-eslint-cli . The eslint option in the Next.js config file is also removed. next.config.mjs /** @type {import(&#x27;next&#x27;).NextConfig} */ const nextConfig = { // No longer supported // eslint: {}, } export default nextConfig Runtime Configuration serverRuntimeConfig and publicRuntimeConfig have been removed. Use environment variables instead. Before (Next.js 15): next.config.js module . exports = { serverRuntimeConfig : { dbUrl : process . env . DATABASE_URL , } , publicRuntimeConfig : { apiUrl : &#x27;/api&#x27; , } , } pages/index.tsx import getConfig from &#x27;next/config&#x27; export default function Page () { const { publicRuntimeConfig } = getConfig () return < p >API URL: { publicRuntimeConfig .apiUrl}</ p > } After (Next.js 16): For server-only values, access environment variables directly in Server Components: app/page.tsx async function fetchData () { const dbUrl = process . env . DATABASE_URL // Use for server-side operations only return await db .query (dbUrl , &#x27;SELECT * FROM users&#x27; ) } export default async function Page () { const data = await fetchData () return < div >{ /* render data */ }</ div > } Good to know : Use the taint API to prevent accidentally passing sensitive server values to Client Components. For client-accessible values, use the NEXT_PUBLIC_ prefix: .env.local NEXT_PUBLIC_API_URL = &quot;/api&quot; app/components/client-component.tsx &#x27;use client&#x27; export default function ClientComponent () { const apiUrl = process . env . NEXT_PUBLIC_API_URL return < p >API URL: {apiUrl}</ p > } To ensure environment variables are read at runtime (not bundled at build time), use the connection() function before reading from process.env : app/page.tsx import { connection } from &#x27;next/server&#x27; export default async function Page () { await connection () const config = process . env . RUNTIME_CONFIG return < p >{config}</ p > } Learn more about environment variables . devIndicators Options The following options have been removed from devIndicators : appIsrStatus buildActivity buildActivityPosition The indicator itself remains available. experimental.dynamicIO The experimental.dynamicIO flag has been renamed to cacheComponents : Update your Next config file, by removing the dynamicIO flag. next.config.js // Next.js 15 - experimental.dynamicIO is now removed module . exports = { experimental : { dynamicIO : true , } , } Add the cacheComponents flag set to true. next.config.js // Next.js 16 - use cacheComponents instead module . exports = { cacheComponents : true , } unstable_rootParams The unstable_rootParams function has been removed. We are working on an alternative API that we will ship in an upcoming minor release. Previous Version 15 Next Videos Was this helpful? supported. Send Resources Docs Support Policy Learn Showcase Blog Team Analytics Next.js Conf Previews Evals More Next.js Commerce Contact Sales Community GitHub Releases Telemetry Governance About Vercel Next.js + Vercel Open Source Software GitHub Bluesky X Legal Privacy Policy Cookie Preferences Subscribe to our newsletter Stay updated on new releases and features, guides, and case studies. Subscribe © 2026 Vercel, Inc.

---
